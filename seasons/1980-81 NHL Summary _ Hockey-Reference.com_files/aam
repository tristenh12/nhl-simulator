function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,i,n,o,s=[],l=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=n.call(r)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _readOnlyError(e){throw new TypeError('"'+e+'" is read-only')}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(){'use strict';var e=function(e,t){var r=e.currentScript,a={};if(r.src.indexOf('?')>-1){var i=r.src.split('?')[1],n=r.src.split('&dvg=')[1];if(n){var o=n.split('city=')[1].split('&')[1];o?(i=i.split('&dvg=')[0]+'&'+o,n=(n=n.split(o)[0].slice(0,-1)).replace('ct','ctr').replace('st','rg').replace('zp','zc').replace('dma','mtr').replace('city','cty')):i=i.split('&dvg=')[0],i+='&'+n}for(var s=i.split('&'),l=0;l<s.length;l++){var c=s[l].split('=')[0];s[l].split('=').length<2?a[c='ra']=s[l].split('ra')[1]:a[c]=s[l].split('=')[1]}}return{scriptTag:r,srcObj:a,parent:t&&t.frameElement?t.frameElement:r.parentElement.parentElement}},t=function(e,t,r,a){try{if("true"===t.isCeltra){e.specialFormatFound||(e.specialFormatFound={val:!1});var i=function(e){var t,r,a=e.scriptTag;if(a.parentNode.classList.contains('celtra-ad-v3')||a.parentNode.classList.contains('celtra-ad-v4'))t=a.parentNode;else{var i=a.parentNode.querySelector('.celtra-ad-v3,.celtra-ad-v4');i?(t=i,e.celtraLocation="sibling"):t=void 0}return t&&t.celtra&&(r=t.celtra.viewabilityObservee),r||void 0}(e.aamSelf);i&&(e.aamSelf.parent=i,e.specialFormatFound.val=!0)}if("true"===t.isVox){e.specialFormatFound||(e.specialFormatFound={val:!1});var n=function(e,t){var r=0;return(window.self!==window.top?window.frameElement:function e(a){return t||r++,a.getAttribute("data-concert-ads-name")?a.firstChild:!a.parentElement||r>=20?null:e(a.parentElement)}(e.scriptTag))||void 0}(e.aamSelf,r);n&&(e.aamSelf.parent=n,e.specialFormatFound.val=!0)}}catch(e){a.fun.handleError(e,'aamWarn:assessSpecialFormats',a,a.settings.test)}},r={aamSnippet:'asid',test:'test',parsecTrack:'psc',mcrRandom:'ra',mcrCampaign:'ca',mcrSite:'st',mcrPlacement:'pl',mcrAdId:'ad',mcrAdvertiser:'adv',mcrUser:'usr',mcrCreative:'cre',mcrRender:'rid',mcrAuction:'auc',mcrPartner:'ptnr',mcrImpression:'iid',mcrBaseBid:'bd',mcrDealId:'did',mcrSupplyVendor:'sv',mcrCategory:'cat',mcrZipCode:'zc',mcrCountry:'ctr',mcrCity:'cty',mcrMetro:'mtr',mcrRegion:'rg',mcrDeviceType:'dt',mcrDeviceFamily:'df',mcrAdFormat:'af',mcrNielsenId:'nid',mcrLineItem:'li',mcrInsertionOrder:'io',mcrTagType:'tti',mcrDv360Geo:'dvg',mcrBandwidth:'bw',mcrAreaCode:'ac',mcrDestinationId:'edst',mcrGdpr:'gdpr',mcrGdprConsent:'gdprc',mcrGdprAddtlConsent:'gdprac'};Object.seal(r);var a={globPrefix:'_Aam',maxPhoneWidth:460,minTabletWidth:768,jsUrl:'https://ajs.a47b.com/js/',jsExten:'.min.3.2.1.js',cssUrl:'https://ajs.a47b.com/surveycss/',heartbeatInterval:'',heartbeatMax:'',analyticsUrl:'https://a.a47b.com/track',maxUrlLength:2e3,thresholdIncrements:.001,initDelay:'',initRetryMax:'',initRetryInterval:'',dbgQs:'gbmaaamdbg',pelc:'pelc',peli:'peli',isCeltra:'',isVox:'',botSmplPc:'0',kmbSessTrck:'false',prvcEnbl:'true',srvyQstn:"",srvyPos:'',srvyNeg:'',srvyMult:"",fntSze:'',cntrlSgmnt:'',expsdSgmnt:'',usrMtchPx:'/extUsrMtch?ses=',extrnlPrtnrs:[{mcro:'$UID',prfx:'apn',url:'https://secure.adnxs.com/getuid?',pc:'0'}],thrdPrtTrckrs:'',debugMode:''};Object.seal(a);var i=function(){return{aamjsRequested:0,aamjsResponded:0,aamjsLoaded:0,mntrjsRequested:0,mntrjsResponded:0,mntrjsLoaded:0,mntrjsAssessed:0}},n=function(e,t,r){setTimeout(function(){!function(e,t,r){var a=new Image;(function(e,t){return t.length<=e})(t,e)&&(a.src=e),r&&console.log("\nFired pixel: "+e)}(e,t,r)},0)},o=function(e,t,r,a){if(2===t){if('true'!==r.cfg.debugMode&&"mntrjsAssessed"!==e)return null;if(r.store.waterfallActionCount[e]>0)return r.settings.test&&console.warn("Error: ".concat(e," already run. Action blocked.")),null;r.store.waterfallActionCount[e]+=1}r.state.tsClient.val=(new Date).toISOString(),r.state.description.val=a?a.toString():r.state.description.val;var i=r.cfg.analyticsUrl;i+='/'+e,i+=function(e,t,r,a){var i='';for(var n in t)if(void 0!==t[n].val&&!t[n].hideFromAnalytics){if(2!==e&&t[n].waterfallOnly)continue;if(!r[n])throw'Key '+n+' undefined.';i+=encodeURIComponent(r[n])+'='+encodeURIComponent(t[n].val)+'&'}return i=a?i:window.btoa(i),a&&console.log("\nCurrent key length: "+Object.keys(t).length),'?'+i}(t,r.state,r.maps.anysMap,r.settings.test),r.settings.test&&console.log('Pixel URL length: '+i.length),n(i,r.cfg.maxUrlLength,r.settings.test),r.state.sequence.val++},s=function(e){setTimeout(function(){(new Image).src=e},0)},l=function(e,t,r){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\[placement\]/gi,t.extPlacement.val?t.extPlacement.val:'')).replace(/\[ad\]/gi,t.extAdId.val?t.extAdId.val:'')).replace(/\[snippet\]/gi,t.aamSnippet.val?t.aamSnippet.val:'')).replace(/\[session\]/gi,t.session.val?t.session.val:'')).replace(/\[timestamp\]/gi,Date.now())).replace(/\[cachebuster\]/gi,r)).replace(/\[partner\]/gi,t.extPartner.val?t.extPartner.val:'')).replace(/\[user\]/gi,t.extUser.val?t.extUser.val:'')).replace(/\[privacy\]/gi,t.privacyEnabled.val?t.privacyEnabled.val:'')).replace(/\[gdpr\]/gi,t.extGdpr.val?t.extGdpr.val:'')).replace(/\[gdprcon\]/gi,t.extGdprConsent.val?t.extGdprConsent.val:'')).replace(/\[gdpraddcon\]/gi,t.extGdprAddtlConsent.val?t.extGdprAddtlConsent.val:'')).replace(/\[supplyvendor\]/gi,t.extSupplyVendor.val?t.extSupplyVendor.val:'')).replace(/\[lineitem\]/gi,t.extLineItem.val?t.extLineItem.val:'')).replace(/\[campaign\]/gi,t.extCampaign.val?t.extCampaign.val:'')).replace(/\[site\]/gi,t.extSite.val?t.extSite.val:'')).replace(/\[adformat\]/gi,t.extAdFormat.val?t.extAdFormat.val:'')).replace(/\[impid\]/gi,t.extImpId.val?t.extImpId.val:'')).replace(/\[country\]/gi,t.extCountry.val?t.extCountry.val:'')).replace(/\[partner\]/gi,t.extPartner.val?t.extPartner.val:'')).replace(/\[random\]/gi,t.extRandom.val?t.extRandom.val:'')).replace(/\[creative\]/gi,t.extCreative.val?t.extCreative.val:'')},c=function(e,t,r,a){for(var i=0;i<e.length;i++)if(!e[i].fired&&e[i].rateLimitVal<e[i].rateLimit&&(!a&&"0"==e[i].fireInViewPercent||a&&t.percentInView.val/10>=e[i].fireInViewPercent)){var n=l(e[i].url,t,r.clientSession);e[i].typeJs?(o=n,c=r.bod,d=r.head,v=void 0,(v=document.createElement('script')).async=!0,v.src=o,c?c.appendChild(v):d.appendChild(v)):s(n),e[i].fired=!0}var o,c,d,v},d=function(){return{pixelFire:o,rawPixelFire:s,handleThrdPrtTrckng:c,waterfallActionCount:i}},v={tsClient:'tsc',tsClientOffset:'tso',aamSnippet:'snp',aamVersion:'ver',aamSize:'sze',session:'ses',superSession:'spr',firstSession:'fir',multipleSessions:'mul',notMeasurable:'nmb',privacyEnabled:'prvce',frameIframe:'ifr',frameHostileIframe:'hos',frameSafeFrame:'isf',frameOptimal:'opt',pageUrl:'purl',adWidthMeasured:'awm',adHeightMeasured:'ahm',intersectionObserverWidth:'iowm',intersectionObserverHeight:'iohm',deviceScreenWidth:'dsw',deviceScreenHeight:'dsh',isMobile:'mob',isTablet:'tab',aamLoadSpeed:'als',time0:'t0',time10:'t10',time20:'t20',time25:'t25',time30:'t30',time33:'t33',time40:'t40',time50:'t50',time60:'t60',time66:'t66',time70:'t70',time75:'t75',time80:'t80',time90:'t90',time100:'t100',percentInView:'piv',reachedViewable:'rvw',reachedMrcViewable:'rmrc',reachedGrpM1Viewable:'rgrpmn',reachedGrpM0Viewable:'rgrpm',clutterAdArray:'caa',clutterAdPxInView:'cpiv',clutterSampleRating:'csr',clutterAvgRating:'car',winFocused:'wfcs',topFocused:'tfcs',docVisible:'dcvs',timeMrc:'tmrc',timeGrpM1:'tgrpm1',timePage:'tpg',timeScrolling:'tscr',timeStopped:'tstp',heartbeatsFired:'hbf',sequence:'seq',description:'dsc',parsecSuperSession:'pscs',parsecTracking:'psct',hovers:'hvs',timeHovering:'hvt',clicks:'clk',timeOnLandingPage:'tolp',custom1:'c1',custom2:'c2',custom3:'c3',custom4:'c4',custom5:'c5',custom6:'c6',extRandom:'erdm',extCampaign:'ecmpn',extSite:'este',extPlacement:'epmnt',extAdId:'eadid',extAdvertiser:'eadv',extUser:'eusr',extCreative:'ecrtv',extRenderId:'erndr',extAuctionId:'eauc',extSupplyVendor:'esvr',extCategory:'ectg',extZip:'ezp',extMetro:'emtr',extRegion:'ergn',extDeviceType:'edt',extDeviceFamily:'edf',extAdFormat:'eaf',extBid:'ebd',extDealId:'edid',extCountry:'ecnty',extCity:'ecty',extNdarId:'enid',extImpId:'eiid',extPartner:'eptnr',extLineItem:'eli',extInsertionOrder:'eio',extTagType:'ett',extBandwidth:'ebw',extAreaCode:'eac',extDestinationId:'ednid',extGdpr:'gdpr',extGdprConsent:'gdprc'};Object.seal(v);var m=function(e,t,r,a){a&&(console.log(e.name),console.log(e.message));var i='';e.name&&(i+=e.name.replace(/\t|\r|\n/g,'')),e.message&&(i+=':'+e.message.replace(/\t|\r|\n/g,'')),r.fun.pixelFire(t,0,r,i)},u={0:'Other / Unknown',1:'Safari',2:'Chrome',3:'Mozilla Firefox',4:'Internet Explorer',5:'Microsoft Edge',6:'Opera'};Object.seal(u);var f={debugMode:{prefix:'dbg',variableType:'boolean'}};Object.seal(f);var p,g,h,b,x,y,S,w,I,O,A,C,T=function(e,t,r){r.state.frameIframe.val=function(e,t){try{return t.self!==e}catch(e){return!0}}(e,t),r.state.frameHostileIframe.val=function(e){var t=!1;try{e.top.location.toString(),t=!1}catch(e){t=!0}return t}(t),r.state.frameSafeFrame.val=function(e,t,r){var a=null;try{void 0!==e.$sf?a=e.$sf:void 0!==e.sfAPI?a=e.sfAPI:void 0!==e.self.$sf&&(a=e.self.$sf)}catch(e){r.settings.test&&console.log('$sf is not supported',e)}var i=null!==a&&null!==a.ext;return i&&(r.store.$sf=a),i}(t,0,r),r.state.frameOptimal.val=r.settings.optimal=!r.state.frameHostileIframe.val&&!r.state.frameSafeFrame.val},P=function(e){var t=e.document.querySelector('html'),r=e.getComputedStyle(t);return{cBH:function(e){var t;return void 0!==e.height&&(t=Math.round(Number(e.height.split('px')[0])),isNaN(t)&&(t=void 0)),t}(r),cBW:function(e){var t;return void 0!==e.width&&(t=Math.round(Number(e.width.split('px')[0])),isNaN(t)&&(t=void 0)),t}(r)}},M=function(e,t){var r=function(e){var t,r;return void 0!==e.innerWidth&&(t=Math.round(Number(e.innerWidth)),isNaN(t)&&(t=void 0)),'undefined'!==e.innerHeight&&(r=Math.round(Number(e.innerHeight)),isNaN(r)&&(r=void 0)),{iW:t,iH:r}}(e),a=function(e){var t,r;return void 0!==e.offsetWidth&&(t=Math.round(Number(e.offsetWidth)),isNaN(t)&&(t=void 0)),void 0!==e.offsetHeight&&(r=Math.round(Number(e.offsetHeight)),isNaN(r)&&(r=void 0)),{ofW:t,ofH:r}}(t),i=function(e){var t,r;return void 0!==e.scrollWidth&&(t=Math.round(Number(e.scrollWidth)),isNaN(t)&&(t=void 0)),void 0!==e.scrollHeight&&(r=Math.round(Number(e.scrollHeight)),isNaN(r)&&(r=void 0)),{sW:t,sH:r}}(t),n=P(e);return _objectSpread(_objectSpread(_objectSpread(_objectSpread({},r),a),i),n)},F=function(e,t,r,a){for(var i=[],n=0;n<t.length;n++)i.push(e[t[n]]);for(var o=[],s=0;s<r.length;s++)o.push(e[r[s]]);return a&&(console.groupCollapsed('Frame Arrays'),console.log('measuredWidths',t),console.log('measuredHeights',r),console.groupEnd('Frame Arrays')),function(e,t){for(var r,a,i=0;i<e.length;i++){var n=e[i];if(void 0!==n&&(0===r||void 0===r||1===String(r).length)&&0!==(r=n)&&1!==String(r).length)break}for(var o=0;o<t.length;o++){var s=t[o];if(void 0!==s&&(0===a||void 0===a||1===String(a).length)&&0!==(a=s)&&1!==String(a).length)break}return{width:r,height:a}}(i,o)},E=function(e,t){try{var r=t.store.aamSelf.parent,a=function(e){var t='unknown';return!0===e.frameIframe.val&&!0===e.frameHostileIframe.val&&!1===e.frameSafeFrame.val?t='hostile':!0===e.frameIframe.val&&!1===e.frameHostileIframe.val&&!1===e.frameSafeFrame.val&&!0===e.frameOptimal.val?t='friendly':!0===e.frameIframe.val&&!1===e.frameOptimal.val&&!0===e.frameHostileIframe.val&&!0===e.frameSafeFrame.val&&(t='safe'),t}(t.state),i=M(e,r),n=function(e){return{hostile:{widths:{sW:79,iW:77.52,ofW:77.41,cBW:1},heights:{iH:76,ofH:74,sH:73,cBH:69}},friendly:{widths:{fFw:99.39,ofW:96.75,iW:96.71,sW:96.62,cBW:1},heights:{fFh:99.35,iH:96.84,sH:96.78,ofH:96.7,cBH:91.45}},safe:{widths:{sFw:97.12,sW:11.39,ofW:10.82,iW:10.82,cBW:.14},heights:{sFh:97.01,iH:10.82,sH:3.28,ofH:.14,cBH:.14}},unknown:{widths:{iW:1,sW:1,ofW:1,cBW:1},heights:{iH:1,sH:1,ofH:1,cBH:1}}}[e]}(a),o=Object.keys(n.widths),s=Object.keys(n.heights);if('friendly'===a){var l=function(e){var t,r;return void 0!==e.attributes.width&&(t=Number(e.attributes.width.value)),void 0!==e.attributes.height&&(r=Number(e.attributes.height.value)),{fFw:t=isNaN(t)?void 0:Math.round(t),fFh:r=isNaN(r)?void 0:Math.round(r)}}(r);i=Object.assign(i,l)}else if('safe'===a){var c=(v=t.store.$sf,m=v.ext.geom(),u=m.self.w,f=m.self.h,'string'==typeof u&&u.includes('px')&&(u=Number(u.split('px')[0]),f=Number(f.split('px')[0])),{sFw:u=isNaN(u)?void 0:Math.round(u),sFh:f=isNaN(f)?void 0:Math.round(f)});i=Object.assign(i,c)}var d=F(i,o,s,t.settings.test);t.state.adWidthMeasured.val=d.width,t.state.adHeightMeasured.val=d.height,t.settings.test&&(console.groupCollapsed('Ad Dimensions Measurements'),console.log('frameType',a),console.log('Parent',r),Object.keys(i).forEach(function(e){console.log(e,i[e])}),console.groupEnd('Ad Dimension Measurements'),console.group('Ad Dimensions Saved To State'),console.log('Width ',t.state.adWidthMeasured.val),console.log('Height',t.state.adHeightMeasured.val),console.groupEnd('Ad Dimensions Saved To State'))}catch(e){t.fun.handleError(e,'aamErr:assessAdDimensions',t,t.settings.test)}var v,m,u,f},H=function(e,t){t.Psc&&t.Psc.sid&&(e.state.parsecSuperSession.val=t.Psc.sid)},W=function(e,t,r){for(var a=(e=e.split('?')[1]||'').split('&'),i={},n=0;n<a.length;n++)i[a[n].split('=')[0]]=a[n].split('=')[1];"true"===i[t.dbgQs]&&(r.test=!0)},j=function(e,t){var r=t.referrer,a='?'+r.split('?')[1]||'';W(a,e.cfg,e.settings),e.state.pageUrl.val=r},D=function(e,t,r){var a,i;a=t.location.href,i=t.location.search,e.state.pageUrl.val=a,t.aamSupSes?(e.state.superSession.val=t.aamSupSes,e.state.firstSession.val=!1,t.aamSupCt++,e.state.multipleSessions.val=t.aamSupCt):(e.state.superSession.val=t.aamSupSes=e.fun.generateUuid(),e.state.firstSession.val=!0,e.state.multipleSessions.val=t.aamSupCt=0),W(i,e.cfg,e.settings),function(e,t){if('object'===_typeof(e.store.aamSelf.scriptTag)&&'string'==typeof e.store.aamSelf.scriptTag.src){var r,a=e.store.aamSelf.scriptTag.src,i=a.indexOf('?')>-1?a.split('?')[1]:a,n='string'==typeof e.cfg.peli&&i.indexOf(e.cfg.peli)>-1;n&&(r=i.split(e.cfg.peli+'=')[1].split('&')[0]);var o,s=n?r:void 0,l='string'==typeof e.cfg.pelc&&i.indexOf(e.cfg.pelc)>-1;l&&(o=i.split(e.cfg.pelc+'=')[1].split('&')[0]);var c,d,v=l?o:void 0;if(!e.state.frameHostileIframe.val&&e.fun.isWindowObject(t)&&e.fun.isDocumentObject(t.document)&&(void 0!==s?c=t.document.getElementById(s):(d=t.document.getElementsByClassName(v),e.settings.test&&console.log(d,d.length),c=1===d.length?d[0]:d[e.state.multipleSessions.val]),void 0!==c&&c))if(!l&&!n&&e.fun.isWindowObject(c)||(l||n)&&e.fun.isHtmlElement(c))e.store.aamSelf.parent=c,e.store.observer&&e.store.observerTarget&&'function'==typeof e.fun.BuildIntersectionObserver&&(e.store.observer.unobserve(e.store.observerTarget),e.fun.BuildIntersectionObserver(e)),e.settings.test&&(console.groupCollapsed('Reassign Parent To:'),console.log(e.store.aamSelf.parent),console.groupEnd('Reassign Parent To:'));else{var m={peliValue:r,pelcValue:o,newParentType:'object'===_typeof(c)&&'function'==typeof c.toString?c.toString():'undefined',expectedType:n||l?"HTMLElement":"Window Object"},u={name:"ScriptError",message:JSON.stringify(m)};e.fun.handleError(u,'aamWarn:assessScriptSrc:newParent',e,e.settings.test)}}else e.settings.test&&console.log('no script src')}(e,t),r(t,e)},R=function(){return{assessPageOptimal:D,assessPageSubOptimal:j,assessParsec:H}},L=function(e,t){var r=e.screen.availHeight,a=e.screen.availWidth;return{screenHeight:r,screenWidth:a,innerHeight:e.innerHeight,innerWidth:e.innerWidth,aspectRatio:Math.floor(r/a*100)/100,docClientHeight:t.documentElement.clientHeight,docClientWidth:t.documentElement.clientWidth}},V=function(e,t,r,a){var i={basedOnFunctionality:a[function(e,t,r){return/constructor/i.test(e.HTMLElement)||'[object SafariRemoteNotification]'===(!e.safari||void 0!==e.safari&&e.safari.pushNotification).toString()?1:e.chrome&&e.chrome.webstore?2:'undefined'!=typeof InstallTrigger?3:t.documentMode?4:e.StyleMedia?5:e.opr&&e.opr.addons||e.opera||r.indexOf(' OPR/')>=0?6:0}(e,t,r)],basedOnUserAgent:a[function(e){return e.indexOf('Firefox')>-1?3:e.indexOf('Opera')>-1?6:e.indexOf('Trident')>-1?4:e.indexOf('Edge')>-1?5:e.indexOf('Chrome')>-1?2:e.indexOf('Safari')>-1?1:0}(r)]};return i.assessmentConsistent=i.basedOnFunctionality===i.basedOnUserAgent,i},k=function(e,t,r){try{var a;a=e.settings.optimal?function(e,t){var r=t.navigator.userAgent,a=L(t,t.document),i=void 0!==t.orientation||-1!==r.indexOf('IEMobile')||a.screenWidth<=e.cfg.maxPhoneWidth,n=/android/i.test(navigator.userAgent),o=r.match(/Android.*AppleWebKit\/([\d.]+)/),s=r.match(/Chrome\/([\d.]+)/);return{isMobile:i,androidStock:n&&(o&&o[1]<537||s&&+s[1].slice(0,4)<34)||!1,aspectRatio:a.aspectRatio,initialLoadLandscape:a.aspectRatio<1,isTablet:i&&a.screenWidth>=e.cfg.minTabletWidth,browser:V(t,t.document,r,e.maps.brwsr),screenHeight:a.screenHeight,screenWidth:a.screenWidth,innerHeight:a.innerHeight,innerWidth:a.innerWidth,docClientHeight:a.docClientHeight,docClientWidth:a.docClientWidth}}(e,r):function(e,t){var r=t.navigator.userAgent,a=L(t,t.document),i=void 0!==t.orientation||-1!==r.indexOf('IEMobile')||a.screenWidth<=e.cfg.maxPhoneWidth,n=/android/i.test(r),o=r.match(/Android.*AppleWebKit\/([\d.]+)/),s=r.match(/Chrome\/([\d.]+)/);return{isMobile:i,androidStock:n&&(o&&o[1]<537||s&&+s[1].slice(0,4)<34)||!1,aspectRatio:a.aspectRatio,initialLoadLandscape:a.aspectRatio<1,isTablet:i&&a.screenWidth>=e.cfg.minTabletWidth,browser:V(t,t.document,r,e.maps.brwsr),screenHeight:a.screenHeight,screenWidth:a.screenWidth,innerHeight:a.innerHeight,innerWidth:a.innerWidth,docClientHeight:a.docClientHeight,docClientWidth:a.docClientWidth}}(e,t),e.state.isMobile.val=a.isMobile,e.state.isTablet.val=a.isTablet,e.state.deviceScreenWidth.val=a.screenWidth,e.state.deviceScreenHeight.val=a.screenHeight,e.settings.device=a}catch(t){e.fun.handleError(t,'aamErr:assessDevice',e,e.settings.test)}},N=[],_=function(e,t){if(e===t.store.aamSelf.parent)return!1;if(e.height>=30||e.clientHeight>=30||e.offsetHeight>=30&&e.src.indexOf('giphy.')<0){if(e.title.search(/ ad /gi)>-1||e.title.search(/Ad/)>-1||e.title.search(/advertisement/)>-1)return!0;if(e.id.toLowerCase().indexOf('_ads_')>-1||e.id.toLowerCase().indexOf('ad')>-1||e.id.toLowerCase().indexOf('ads')>-1||e.id.toLowerCase().indexOf('-ad')>-1||e.id.toLowerCase().indexOf('aswift')>-1||e.id.toLowerCase().indexOf('atwadframe')>-1)return!0}return!1},U=function(e,t){for(var r={root:null,rootMargin:'0px',threshold:[]},a=0;a<1+t.cfg.thresholdIncrements;a+=t.cfg.thresholdIncrements)r.threshold.push(Math.max(0,Math.min(a.toFixed(3),1)));new IntersectionObserver(function(t){e.percentInView=Math.floor(1e3*t[0].intersectionRatio)},r).observe(e.el)},B=function(e,t){for(var r=0,a=0;a<N.length;a++){var i=N[a];r+=i.area*i.percentInView/1e3}var n=e.intersectionObserverHeight.val*e.intersectionObserverWidth.val,o=n*(e.percentInView.val/1e3)/(r+n)*1e3;t.store.adCluRtArr.sum+=o,t.store.adCluRtArr.count++,t.store.adCluRtArr.avg=t.store.adCluRtArr.count>0?Math.round(t.store.adCluRtArr.sum/t.store.adCluRtArr.count):1e3,e.clutterAdArray.val=N.length,e.clutterAdPxInView.val=isNaN(Math.round(r))?null:Math.round(r),e.clutterSampleRating.val=isNaN(Math.round(o))?null:Math.round(o),e.clutterAvgRating.val=isNaN(t.store.adCluRtArr.avg)?null:t.store.adCluRtArr.avg},G=function(e,t){for(var r=function(e,t){return t.fun.isWindowObject(e)&&t.fun.isDocumentObject(e.document)?e.document.body.querySelectorAll('iframe'):[]}(e,t),a=0;a<r.length;a++)_(r[a],t)&&N.push({el:r[a]});t.state.clutterAdArray.val=N.length;for(var i=0;i<N.length;i++)N[i].el.width&&N[i].el.height?(N[i].width=N[i].el.width,N[i].height=N[i].el.height,N[i].area=N[i].width*N[i].height,U(N[i],t)):N.splice(i,1)},z=function(e){for(var t={root:null,rootMargin:'0px',threshold:[]},r=e.store.observerTarget=e.store.aamSelf.parent,a=0;a<1+e.cfg.thresholdIncrements;a+=e.cfg.thresholdIncrements)t.threshold.push(Math.max(0,Math.min(a.toFixed(3),1)));try{(e.store.observer=new IntersectionObserver(function(t){e.state.percentInView.val=Math.floor(1e3*t[0].intersectionRatio),e.state.intersectionObserverWidth.val=Math.round(t[0].boundingClientRect.width),e.state.intersectionObserverHeight.val=Math.round(t[0].boundingClientRect.height),t[0].intersectionRatio>0&&!e.state.reachedViewable.val&&(e.state.reachedViewable.val=!0),1!==t[0].intersectionRatio||e.state.reachedGrpM0Viewable.val||(e.state.reachedGrpM0Viewable.val=!0),e.settings.test&&console.log(t)},t)).observe(r)}catch(t){e.fun.handleError(t,'aamErr:buildIntersectionObserver',e,e.settings.test)}},q=function(e,t,r,a){try{"number"==typeof e.cfg.heartbeatInterval&&(e.cfg.heartbeatInterval,_readOnlyError("HEARTBEAT_INTERVAL")),"number"==typeof e.cfg.heartbeatMax&&(e.cfg.heartbeatMax,_readOnlyError("MAX_HEARTBEATS")),function(e,t){e.state.docVisible.val=!t.hidden,e.state.time0.val=0,e.state.time10.val=0,e.state.time20.val=0,e.state.time25.val=0,e.state.time30.val=0,e.state.time33.val=0,e.state.time40.val=0,e.state.time50.val=0,e.state.time60.val=0,e.state.time66.val=0,e.state.time70.val=0,e.state.time75.val=0,e.state.time80.val=0,e.state.time90.val=0,e.state.time100.val=0,e.state.heartbeatsFired.val=0}(e,r);var i=null;e.store.frameCounter=0,e.store.heartbeatCounter=0,e.store.durDiff=0,e.store.pastPiv=0,e.store.timePaused=0,e.store.adCluRtArr={sum:0,count:0,avg:0},t.requestAnimationFrame(function r(n){i||(i=n),e.store.pastDur=e.store.duration||0,e.store.duration=Math.round(n-i),e.store.durDiff=e.store.duration-e.store.pastDur,function(e,t,r,a){if(function(e,t){e.state.timePage.val=e.store.duration,t>0&&(e.state.time0.val+=e.store.durDiff),t>=100&&(e.state.time10.val+=e.store.durDiff),t>=200&&(e.state.time20.val+=e.store.durDiff),t>=250&&(e.state.time25.val+=e.store.durDiff),t>=300&&(e.state.time30.val+=e.store.durDiff),t>=333&&(e.state.time33.val+=e.store.durDiff),t>=400&&(e.state.time40.val+=e.store.durDiff),t>=500&&(e.state.time50.val+=e.store.durDiff),t>=600&&(e.state.time60.val+=e.store.durDiff),t>=666&&(e.state.time66.val+=e.store.durDiff),t>=700&&(e.state.time70.val+=e.store.durDiff),t>=750&&(e.state.time75.val+=e.store.durDiff),t>=800&&(e.state.time80.val+=e.store.durDiff),t>=900&&(e.state.time90.val+=e.store.durDiff),1e3==t&&(e.state.time100.val+=e.store.durDiff),0===t&&(e.store.timePaused+=e.store.durDiff)}(e,t.percentInView.val),r.frameCounter++,(t.winFocused.val||t.topFocused.val||t.docVisible.val)&&r.duration-r.timePaused>2e3*(r.heartbeatCounter+1)&&(r.heartbeatCounter++,t.percentInView.val>0&&t.heartbeatsFired.val<=150)){t.heartbeatsFired.val++,e.fun.pixelFire('aamHrtBt',3,e),e.settings.optimal&&a(t,e);var i=Math.ceil(t.time100.val/1e3);e.cfg.cntrlSgmnt&&e.cfg.expsdSgmnt&&i<=31&&1e3===t.percentInView.val&&e.fun.rawPixelFire('https://secure.adnxs.com/seg?add='+e.cfg.expsdSgmnt+':'+i+'&t=2'),e.cfg.cntrlSgmnt&&e.cfg.expsdSgmnt&&t.time0.val<=2e3&&e.fun.rawPixelFire('https://secure.adnxs.com/seg?add='+e.cfg.cntrlSgmnt+':2&t=2'),e.cfg.cntrlSgmnt&&e.cfg.expsdSgmnt&&t.percentInView.val>=500&&t.time50.val<=2e3&&e.fun.rawPixelFire('https://secure.adnxs.com/seg?add='+e.cfg.cntrlSgmnt+':3&t=2')}r.pastPiv>0&&0===t.percentInView.val?e.fun.pixelFire('aamViewE',3,e):0===r.pastPiv&&t.percentInView.val>0&&e.fun.pixelFire('aamViewS',3,e),r.pastPiv=t.percentInView.val,e.cfg.thrdPrtTrckrs&&e.cfg.thrdPrtTrckrs.length>0&&e.fun.handleThrdPrtTrckng(e.cfg.thrdPrtTrckrs,e.state,e.store,!0)}(e,e.state,e.store,a),t.requestAnimationFrame(r)})}catch(t){e.fun.handleError(t,'aamErr:startInterval',e,e.settings.test)}},$=function(e,t,r,a){try{!function(e,t,r){var a=0;(e.contentWindow?e.contentWindow.document.body:e).addEventListener("click",function(){var e,i;t.clicks.val=t.clicks.val?t.clicks.val+1:1,1==++a&&r.addEventListener("visibilitychange",function n(){'hidden'===r.visibilityState?e=Date.now():e&&(a=0,i=Date.now(),t.timeOnLandingPage.val=t.timeOnLandingPage.val?t.timeOnLandingPage.val+(i-e):i-e,e=void 0,i=void 0,r.removeEventListener("visibilitychange",n))})})}(e,t,r),t.isMobile.val||function(e,t,r){var a,i;e.addEventListener("mouseenter",function(){a=Date.now()}),e.addEventListener("mouseleave",function(){i=Date.now(),a&&i&&(t.timeHovering.val=t.timeHovering.val?t.timeHovering.val+(i-a):i-a,t.hovers.val=t.hovers.val?t.hovers.val+1:1),a=void 0,i=void 0}),r.addEventListener("visibilitychange",function(){'hidden'===r.visibilityState&&(a=void 0,i=void 0)})}(e,t,r)}catch(e){a.fun.handleError(e,'aamWarn:handleUserInteract',a,a.settings.test)}},K=function(e){var t;return'y'===e?(t=['8','9','a','b'])[Math.floor(Math.random()*t.length)]:(t=new Uint8Array(1),crypto.getRandomValues(t),(t[0]%16).toString(16))},J=function(){if("object"===("undefined"==typeof crypto?"undefined":_typeof(crypto)))return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,K);var e=(new Date).getTime();return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),('x'==t?r:3&r|8).toString(16)})},Z=function(e,t,r){!function(e,t){var r=window[t.cfg.globPrefix+'-'+window[t.cfg.globPrefix].r].store.state;r[e+'Loaded']||(r[e+'Loaded']=!0,t.fun.pixelFire(e+'Loaded',2,t),r=null)}(e,t),r&&r()},Q=function(e,t,r,a){t.onload=Z(e,r,a),t.onreadystatechange=function(){'loaded'!==this.readyState&&'complete'!==this.readyState||Z()}},X=Date.now(),Y=window,ee=Y.top,te=Y.document,re=te.body,ae=te.head,ie=d().pixelFire,ne=function(){return{fun:{pixelFire:ie},state:{tsClient:{val:void 0},description:{val:void 0},sequence:{val:1}},settings:{test:/true/i.test('false')},cfg:a,maps:{anysMap:v}}};try{if("object"==_typeof((p=e(te,Y)).scriptTag)&&"function"==typeof p.scriptTag.getAttribute)for(var oe=0,se=Object.entries(f);oe<se.length;oe++){var le=_slicedToArray(se[oe],2),ce=le[0],de=le[1],ve=p.scriptTag.getAttribute("data-"+de.prefix);switch(de.variableType){case"boolean":"1"!==ve&&"true"!==ve||(a[ce]="true")}}b=p.srcObj,x={test:'true'===b[r.test],optimal:void 0,device:void 0},Object.seal(x),g=x,h=function(e,t,r){var a={tsClient:{val:void 0},tsClientOffset:{val:(new Date).getTimezoneOffset()/60},aamSnippet:{val:e[t.aamSnippet]},aamVersion:{val:'3.2.1'},aamSize:{val:'37947'},session:{val:'d3c602bb-ff02-425c-9f26-50536db072d5'},superSession:{val:void 0},firstSession:{val:void 0},multipleSessions:{val:void 0},notMeasurable:{val:void 0},privacyEnabled:{val:"true"===r.prvcEnbl},frameIframe:{val:void 0},frameHostileIframe:{val:void 0},frameSafeFrame:{val:void 0},frameOptimal:{val:void 0},pageUrl:{val:void 0},adWidthMeasured:{val:void 0},adHeightMeasured:{val:void 0},intersectionObserverWidth:{val:void 0},intersectionObserverHeight:{val:void 0},deviceScreenWidth:{val:void 0},deviceScreenHeight:{val:void 0},isMobile:{val:void 0},isTablet:{val:void 0},aamLoadSpeed:{val:void 0},time0:{val:void 0},time10:{val:void 0},time20:{val:void 0},time25:{val:void 0},time30:{val:void 0},time33:{val:void 0},time40:{val:void 0},time50:{val:void 0},time60:{val:void 0},time66:{val:void 0},time70:{val:void 0},time75:{val:void 0},time80:{val:void 0},time90:{val:void 0},time100:{val:void 0},percentInView:{val:void 0},reachedViewable:{val:void 0},reachedMrcViewable:{val:void 0},reachedGrpM1Viewable:{val:void 0},reachedGrpM0Viewable:{val:void 0},clutterAdArray:{val:void 0},clutterAdPxInView:{val:void 0},clutterSampleRating:{val:void 0},clutterAvgRating:{val:void 0},winFocused:{val:void 0},topFocused:{val:void 0},docVisible:{val:void 0},timeMrc:{val:void 0},timeGrpM1:{val:void 0},timePage:{val:void 0},timeScrolling:{val:void 0},timeStopped:{val:void 0},heartbeatsFired:{val:void 0},sequence:{val:1},description:{val:void 0},hovers:{val:void 0},timeHovering:{val:void 0},clicks:{val:void 0},timeOnLandingPage:{val:void 0},custom1:{val:void 0},custom2:{val:void 0},custom3:{val:void 0},custom4:{val:void 0},custom5:{val:void 0},custom6:{val:void 0},parsecSuperSession:{val:void 0},parsecTracking:{val:e[t.parsecTrack]?e[t.parsecTrack]:void 0},extRandom:{val:e[t.mcrRandom]?e[t.mcrRandom]:void 0},extCampaign:{val:e[t.mcrCampaign]?e[t.mcrCampaign]:void 0},extSite:{val:e[t.mcrSite]?e[t.mcrSite]:void 0},extPlacement:{val:e[t.mcrPlacement]?e[t.mcrPlacement]:void 0},extAdId:{val:e[t.mcrAdId]?e[t.mcrAdId]:void 0},extAdvertiser:{val:e[t.mcrAdvertiser]?e[t.mcrAdvertiser]:void 0},extUser:{val:e[t.mcrUser]&&!r.prvcEnbl?e[t.mcrUser]:void 0},extCreative:{val:e[t.mcrCreative]?e[t.mcrCreative]:void 0},extRenderId:{val:e[t.mcrRender]?e[t.mcrRender]:void 0},extAuctionId:{val:e[t.mcrAuction]?e[t.mcrAuction]:void 0},extSupplyVendor:{val:e[t.mcrSupplyVendor]?e[t.mcrSupplyVendor]:void 0},extCategory:{val:e[t.mcrCategory]?e[t.mcrCategory]:void 0},extZip:{val:e[t.mcrZipCode]?e[t.mcrZipCode]:void 0},extMetro:{val:e[t.mcrMetro]?e[t.mcrMetro]:void 0},extRegion:{val:e[t.mcrRegion]?e[t.mcrRegion]:void 0},extDeviceType:{val:e[t.mcrDeviceType]?e[t.mcrDeviceType]:void 0},extDeviceFamily:{val:e[t.mcrDeviceFamily]?e[t.mcrDeviceFamily]:void 0},extAdFormat:{val:e[t.mcrAdFormat]?e[t.mcrAdFormat]:void 0},extBid:{val:e[t.mcrBaseBid]?e[t.mcrBaseBid]:void 0},extDealId:{val:e[t.mcrDealId]?e[t.mcrDealId]:void 0},extCountry:{val:e[t.mcrCountry]?e[t.mcrCountry]:void 0},extCity:{val:e[t.mcrCity]?e[t.mcrCity]:void 0},extNdarId:{val:e[t.mcrNielsenId]?e[t.mcrNielsenId]:void 0},extImpId:{val:e[t.mcrImpression]?e[t.mcrImpression]:void 0},extPartner:{val:e[t.mcrPartner]?e[t.mcrPartner]:void 0},extLineItem:{val:e[t.mcrLineItem]?e[t.mcrLineItem]:void 0},extInsertionOrder:{val:e[t.mcrInsertionOrder]?e[t.mcrInsertionOrder]:void 0},extTagType:{val:e[t.mcrTagType]?e[t.mcrTagType]:void 0},extBandwidth:{val:e[t.mcrBandwidth]?e[t.mcrBandwidth]:void 0},extAreaCode:{val:e[t.mcrAreaCode]?e[t.mcrAreaCode]:void 0},extDestinationId:{val:e[t.mcrDestinationId]?e[t.mcrDestinationId]:void 0},extGdpr:{val:e[t.mcrGdpr]?e[t.mcrGdpr]:void 0},extGdprConsent:{val:e[t.mcrGdprConsent]?e[t.mcrGdprConsent]:void 0},extGdprAddtlConsent:{val:e[t.mcrGdprAddtlConsent]?e[t.mcrGdprAddtlConsent]:void 0,hideFromAnalytics:!0}};return Object.seal(a),a}(p.srcObj,r,a)}catch(e){var me=ne();m(e,'aamErr:initialEval',me,me.settings.test)}var ue=0,fe=!1;try{if((y={store:{aamInitTime:X,clientSession:J(),state:{},aamSelf:p,waterfallActionCount:d().waterfallActionCount(),bod:re,head:ae},fun:{pixelFire:ie,rawPixelFire:d().rawPixelFire,handleThrdPrtTrckng:d().handleThrdPrtTrckng,assessSelf:e,handleError:m,generateUuid:J,isWindowObject:function(e){return'object'===_typeof(e)&&'function'==typeof e.toString&&'[object Window]'===e.toString()},isDocumentObject:function(e){return'object'===_typeof(e)&&'function'==typeof e.toString&&'[object HTMLDocument]'===e.toString()},isHtmlElement:function(e){return'object'===_typeof(e)&&'function'==typeof e.toString&&-1!==e.toString().indexOf('[object HTML')},BuildIntersectionObserver:z},cfg:a,settings:g,state:h,maps:{anysMap:v}}).cfg.thrdPrtTrckrs){try{y.cfg.thrdPrtTrckrs=JSON.parse(y.cfg.thrdPrtTrckrs)}catch(e){y.cfg.thrdPrtTrckrs=[]}for(var pe=0;pe<y.cfg.thrdPrtTrckrs.length;pe++)y.cfg.thrdPrtTrckrs[pe].rateLimitVal=Math.floor(100*Math.random()),y.cfg.thrdPrtTrckrs[pe].fired=!1}y.cfg.thrdPrtTrckrs&&y.cfg.thrdPrtTrckrs.length>0&&y.fun.handleThrdPrtTrckng(y.cfg.thrdPrtTrckrs,y.state,y.store),(y.cfg.isCeltra||y.cfg.isVox)&&t(y.store,y.cfg,y.state.frameIframe.val),y.fun.pixelFire('aamjsResponded',2,y),Y[a.globPrefix]={r:y.store.clientSession},Y[a.globPrefix+'-'+y.store.clientSession]=y,S=function(){try{y.maps.brwsr=u,T(ee,Y,y),y.state.frameIframe.val||(i=y.state,n=y.settings.test,i.notMeasurable.val=!0,n&&console.log('AdFrame notMeasurable = '+i.notMeasurable.val)),y.state.frameOptimal.val?(R().assessPageOptimal(y,ee,G),y.state.parsecTracking.val&&R().assessParsec(y,ee)):R().assessPageSubOptimal(y,te),E(Y,y),k(y,Y,ee),$(y.store.aamSelf.parent,y.state,te,y),y.state.aamLoadSpeed.val=(e=y.store.aamInitTime,t=y.store.aamLoadedTime,r=y.state.aamSize.val,a=r/(t-e),isFinite(Math.floor(a))?Math.floor(a):null),y.fun.pixelFire('mntrjsAssessed',2,y),function(e,t,r,a,i,n,o){if(!o)for(var s=0;s<t.length;s++){var l=t[s].url+r+e+a+'&snp='+i+'&eu'+t[s].prfx+'='+t[s].mcro;100*Math.random()<=t[s].pc&&0!==t[s].pc&&n(l)}}(y.cfg.usrMtchPx,y.cfg.extrnlPrtnrs,y.cfg.analyticsUrl,y.state.session.val,y.state.aamSnippet.val,y.fun.rawPixelFire,y.settings.test)}catch(e){y.fun.handleError(e,'aamErr:loadComplete',y,y.settings.test)}var e,t,r,a,i,n},O=function(){return!0},A=function(e,t){!0!==fe&&(!0===t()?(e(),fe=!0):(ue+=1)<y.cfg.initRetryMax?(y.settings.test&&console.log('retrying again '+ue),setTimeout(function(){return A(e,t)},y.cfg.initRetryInterval)):y.settings.test&&console.log('could not init after max retries, giving up'))},C=function(){'number'==typeof y.cfg.initRetryInterval&&'number'==typeof y.cfg.initRetryMax?A(w,O):w()},I=function(){if(void 0!==y.cfg.initDelay){var e;try{e=parseInt(y.cfg.initDelay)}catch(e){}'number'==typeof e&&e>=1?(y.settings.test&&console.log('delaying init by '+e),setTimeout(C,e)):C()}else C()},w=function(){try{y.store.aamLoadedTime=Date.now();try{if('IntersectionObserver'in Y?z(y):y.fun.handleError({},'aamErr:intersectionObserverUnsupported',y,y.settings.test),function(e,t,r,a){if("object"!==_typeof(a)||"object"!==_typeof(t))return e.fun.handleError({},'aamErr:buildEventListeners:invalidObject',e,e.settings.test),!1;var i,n;if(void 0!==a.hidden?(i="hidden",n="visibilitychange"):void 0!==a.msHidden?(i="msHidden",n="msvisibilitychange"):void 0!==a.webkitHidden&&(i="webkitHidden",n="webkitvisibilitychange"),a.addEventListener(n,function(){a.visibilityState===i?(e.state.docVisible.val=!1,e.store.timeVizPaused=Date.now(),e.fun.pixelFire('aamTabViewE',1,e)):(e.state.docVisible.val=!0,e.store.timeVizStarted=Date.now(),e.store.timePaused+=e.store.timeVizStarted-e.store.timeVizPaused,e.fun.pixelFire('aamTabViewS',1,e))},!1),t.addEventListener('blur',function(){e.state.winFocused.val=!1},!1),t.addEventListener('focus',function(){e.state.winFocused.val=!0},!1),e.settings.optimal&&r)try{r.addEventListener('blur',function(){e.state.topFocused.val=!1},!1),r.addEventListener('focus',function(){e.state.topFocused.val=!0},!1)}catch(t){e.fun.handleError(t,'aamErr:cannotSetTopWinListeners',e,e.settings.test)}}(y,Y,ee,te),q(y,Y,te,B),y.store.specialFormatFound&&!y.store.specialFormatFound.val){y.store.specialFormatAttempts||(y.store.specialFormatAttempts=0);var e=setInterval(function(){y.store.specialFormatAttempts++,t(y.store,y.cfg,y.state.frameIframe.val,y),(y.store.specialFormatFound.val||y.store.specialFormatAttempts>=10)&&(clearInterval(e),y.store.specialFormatFound.val&&(E(Y,y),z(y)))},500)}}catch(e){y.fun.handleError(e,'aamErr:initMntrJs',y,y.settings.test)}S()}catch(e){var r=y&&y.constructor===Object&&null!==y&&y.settings&&y.state?y:ne();m(e,'aamErr:loadMntrJs',r,r.settings.test)}}}catch(e){var ge=y&&y.constructor===Object&&null!==y&&y.settings&&y.state?y:ne();m(e,'aamErr:respondedConstruction',ge,ge.settings.test)}y&&y.fun&&(y.fun.assessLoadStatus=Q);try{Q('aamjs',p.scriptTag,y,I)}catch(e){var he=y&&y.constructor===Object&&null!==y&&y.settings&&y.state?y:ne();m(e,'aamErr:assessLoadStatus',he,he.settings.test)}}();