
window.gamera = window.gamera || {};
window.gamera.fastlane = window.gamera.fastlane || [];
window.gamera.fastlane.push(function() {
  window.gamera.setConfig({"collectAdvertiserDomains":1,"curationRules":[{"id":"gamera_17","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0yLTE","MS01LTI","Mi00LTI","Mi0yLTI","Mi0zLTI","Mi01LTI","My0zLTI","My00LTI","Mi0xLTI","OS0xLTE","OC01LTE"],"maxRenderSequence":5,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_18","inverted":true,"placementIds":["MS01LTE","Mi0xLTE","Mi0yLTE","MS01LTI","Mi00LTI","Mi0yLTI","Mi0zLTI","Mi01LTI","My0zLTI","My00LTI","Mi0xLTI"],"maxRenderSequence":5,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_11","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi0yLTE","MS01LTI","Mi00LTI","Mi0yLTI","Mi0zLTI","Mi01LTI","My0zLTI","Mi0xLTI"],"maxRenderSequence":5,"maxViewportAdDensity":6,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_14","inverted":false,"placementIds":["MS01LTE","Mi0xLTE","Mi00LTE","Mi0zLTE","Mi0yLTE","MS01LTI","Mi00LTI","My0xLTI","MS0zLTE","My0yLTI","Mi0yLTI","Mi0zLTI","Mi01LTI","My0zLTI","My00LTI","Mi0xLTI"],"maxRenderSequence":3,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_22","inverted":false,"placementIds":["MS0xLTE","My0yLTE","My0xLTE","Mi01LTE","MS00LTE","OS0yLTE"],"maxRenderSequence":3,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]}],"placementStats":"pid,fr,vr,ctr,att,cpm2,cpm4,cpm6,cpm8\nMS01LTE,83.7,93.73,0.31,10.0,0,0.0,0.42,1.29\nMS0yLTE,80.87,50.32,0.08,1.0,0,0.0,0.38,1.44\nMS0xLTE,76.49,56.73,0.05,1.25,0,0.0,0.3,1.39\nMi0xLTE,85.28,89.09,0.3,8.67,0,0.0,0.4,1.39\nMy0xLTE,82.96,54.65,0.16,0.33,0,0.0,0.24,1.14\nMy0yLTE,84.73,50.86,0.17,0.0,0,0.0,0.29,1.15\nMi01LTE,80.96,62.53,0.17,1.0,0,0.0,0.2,1.08\nMi00LTE,81.77,64.83,0.22,2.0,0,0.0,0.23,1.16\nMy0zLTE,84.48,46.88,0.17,0.0,0,0.0,0.26,1.15\nMi0zLTE,78.92,69.96,0.2,2.0,0,0.0,0.22,1.09\nMi0yLTE,84.23,77.63,0.28,4.0,0,0.0,0.3,1.26\nMy00LTE,84.32,47.09,0.11,0.0,0,0.0,0.26,1.13\nMy01LTE,83.98,37.75,0.09,0.0,0,0.0,0.26,1.21\nNC0xLTE,83.58,33.08,0.08,0.0,0,0.0,0.25,1.15\nNC0yLTE,84.63,28.8,0.09,0.0,0,0.0,0.31,1.23\nNC0zLTE,82.85,24.93,0.06,0.0,0,0.0,0.28,1.17\nNC00LTE,82.21,26.03,0.07,0.0,0,0.0,0.24,1.12\nNC01LTE,81.99,23.63,0.08,0.0,0,0.0,0.2,1.1\nNS0xLTE,81.65,22.19,0.05,0.0,0,0.0,0.22,1.15\nNS0yLTE,80.82,20.47,0.04,0.0,0,0.0,0.19,1.12\nNS0zLTE,80.74,21.11,0.07,0.0,0,0.0,0.22,1.11\nNS00LTE,79.48,20.4,0.05,0.0,0,0.0,0.19,1.14\nNS01LTE,78.07,21.35,0.04,0.0,0,0.0,0.21,1.19\nNi0xLTE,80.16,22.85,0.01,0.0,0,0.0,0.21,1.1\nNi0yLTE,79.72,24.17,0.0,0.0,0,0.0,0.21,1.1\nNi00LTE,81.67,36.33,0.06,0.0,0,0.0,0.25,1.11\nNi0zLTE,79.31,23.71,0.06,0.0,0,0.0,0.21,1.16\nNi01LTE,82.21,35.23,0.08,0.0,0,0.0,0.22,1.08\nMS01LTI,76.87,92.61,0.29,8.0,0,0.0,0.12,1.1\nNy0xLTE,82.25,32.46,0.03,0.0,0,0.0,0.26,1.14\nNy0yLTE,83.34,36.68,0.13,0.0,0,0.0,0.22,1.17\nNy0zLTE,78.35,27.24,0.06,0.0,0,0.0,0.29,1.14\nNy00LTE,80.55,29.66,0.12,0.0,0,0.0,0.24,1.16\nMS00LTE,66.39,58.94,0.0,3.33,0,0.0,0.0,0.61\nMi00LTI,82.12,92.74,0.46,9.5,0,0.0,0.33,1.2\nNy01LTE,79.63,28.43,0.0,0.0,0,0.0,0.24,1.28\nMy0xLTI,81.24,91.86,0.44,8.0,0,0.0,0.27,1.23\nMi0zLTI,83.59,94.0,0.33,10.0,0,0.0,0.24,1.22\nMy0yLTI,86.4,92.93,0.54,8.25,0,0.0,0.52,1.59\nMi0yLTI,86.71,93.37,0.27,9.0,0,0.0,0.34,1.39\nMi0xLTI,76.75,89.07,0.67,7.0,0,0.0,0.09,1.02\nMi01LTI,77.11,90.88,0.68,7.0,0,0.0,0.26,1.06\n"});
});

(()=>{"use strict";const e="__gameraDebug__",t="gamera.consentProceed",n="gamera.adRendered",i={AD_RENDERED:"adRendered",PAGE_SCROLL:"pageScroll",NEW_PAGE:"newPage",CUSTOM:"custom",ADD_DIMENSIONS:"addDimensions",ADD_METRICS:"addMetrics",PAGE_REVENUE:"pageRevenue",BID_WON:"bidWon"},r={AD_PLACEMENT_FOUND:"adPlacementFound",AD_PLACEMENT_GTAG_RENDERED:"adPlacementGtagRendered",AD_PLACEMENT_PBJS_RENDERED:"adPlacementPbjsRendered",AD_PLACEMENT_RENDERED:"adPlacementRendered",AD_PLACEMENT_VIEWABLE:"adPlacementViewable",AD_PLACEMENT_CLICKED:"adPlacementClicked",AD_PLACEMENT_PBJS_AUCTION_INIT:"adPlacementPbjsAuctionInit",PBJS_BID_CLICKED:"pbjsBidClicked",WEB_VITALS_CHANGED:"webVitalsChanged",SESSION_RESET:"sessionReset",SESSION_NEW_PAGE:"sessionNewPage",SESSION_PAGE_REVENUE_ADDED:"sessionPageRevenueAdded"},s=["hb_pb","fs_pb"],a=["hb_adid","fs_adid"],o=5,d=new class{constructor(t){t||(t="warn"),window.location.search.indexOf(e)>-1&&(t="debug"),this.level=t}debug(e){"debug"===this.level&&console.log("%c Gamera [debug]: %c "+e,"background: black; color: orange","background: #373837; color: #ffffff")}info(e){"info"!==this.level&&"debug"!==this.level||console.log("%c Gamera [info]: %c "+e,"background: black; color: orange","background: blue; color: #ffffff")}warn(e){["info","warn","debug"].includes(this.level)&&console.log("%c Gamera [warn]: %c "+e,"background: black; color: orange","background: black; color: orange")}error(e){["info","warn","error","debug"].includes(this.level)&&console.log("%c Gamera [error]: %c "+e,"background: black; color: orange","background: red; color: #ffffff")}setLogLevel(e){this.level=e}}("none"),c=function(){let e=[];try{e=document.getElementsByTagName("main")}catch(e){}return e}();function l(){return function(){if(void 0!==window.scrollY)return Math.max(0,Math.round(window.scrollY));if(void 0!==window.pageYOffset)return Math.max(0,Math.round(window.pageYOffset));const e=document.documentElement,t=document.body;return Math.max(0,Math.round(e&&e.scrollTop||t&&t.scrollTop||0))}()||(1===c.length?c[0].scrollTop:0)}function u(){return window.document.documentElement&&window.document.documentElement.clientWidth||window.innerWidth||0}function g(){return window.document.documentElement&&window.document.documentElement.clientHeight||window.innerHeight||0}function p(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function m(e){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}function h(e,t,n,i,r){let s="";if(n){let e=new Date;e.setTime(e.getTime()+60*n*60*1e3),s=e.toUTCString()}const a=r&&""!==r?` ;domain=${encodeURIComponent(r)}`:"",o=s&&""!==s?` ;expires=${s}`:"",d=null!=i&&"none"==i.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${o}; path=/${a}${i?`; SameSite=${i}`:""}${d}`}function f(){return Math.floor(Date.now()/1e3)}function v(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}function w(e){try{return e()}catch(e){}return null}function E(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function y(e,t){if(!e)return;let n=String(t).split(".");for(let t=0;t<n.length;t++)if(!(e=e[n[t]]))return e;return e}function b(e,t){return toString.call(e)===`[object ${t}]`}function _(e){return b(e,"Object")}function S(e){return b(e,"Function")}function A(e,...t){if(!t.length)return e;const n=t.shift();if(_(e)&&_(n))for(const t in n)_(n[t])?(e[t]||Object.assign(e,{[t]:{}}),A(e[t],n[t])):Array.isArray(n[t])?e[t]?Array.isArray(e[t])&&n[t].forEach((n=>{let i=1;for(let r=0;r<e[t].length;r++)if(v(e[t][r],n)){i=0;break}i&&e[t].push(n)})):Object.assign(e,{[t]:[...n[t]]}):Object.assign(e,{[t]:n[t]});return A(e,...t)}const I=function(e){const t={domain:"",hostname:"",params:{},path:""};if(!e)return t;try{const n=new URL(e);t.domain=n.hostname.split(".").slice(-2).join("."),t.hostname=n.hostname,t.path=n.pathname;const i=new URLSearchParams(n.search);for(const[e,n]of i)t.params[e.toLowerCase()]=decodeURIComponent(n)}catch(e){}return t}(function(e,t){const n=document.getElementById("__gamera__");if(n)return n.getAttribute("src");let i=document.querySelectorAll('script[src*="gamera.js"]');return 1===i.length?i[0].getAttribute("src"):void 0}()),P={_ingestionHostname:I.hostname||"metrics.rapidedge.io",_ingestionPath:"/gamera/ingest",_domain:I.params.domain||"",_partner:I.params.partner||"",_ltv:+I.params.ltv||0,_wait:+I.params.wait||0,_tpcs:+I.params.tpcs||0,_webMetrics:+I.params.web_metrics||1,_userId:I.params.user_id||"",_sessionId:I.params.session_id||"",_audience:+I.params.audience||0,_clientSideMetrics:+I.params.client_side_metrics||0,_disableAdPlacementDiscovery:0,_disableGptCuration:0,_collectPlacementHistory:0,_collectAdvertiserDomains:0,_enableSegtaxFetch:0,_curationRules:[],get domain(){return this._domain},get partner(){return this._partner},get ltv(){return this._ltv},get wait(){return this._wait},get tpcs(){return this._tpcs},get webMetrics(){return this._webMetrics},get userId(){return this._userId},get sessionId(){return this._sessionId},get endpoint(){return`https://${this._ingestionHostname}${this._ingestionPath}`},get audience(){return this._audience},get clientSideMetrics(){return this._clientSideMetrics},get disableAdPlacementDiscovery(){return this._disableAdPlacementDiscovery},get disableGptCuration(){return this._disableGptCuration},get collectPlacementHistory(){return this._collectPlacementHistory},get collectPbjsSummary(){return!this._collectPlacementHistory},get collectAdvertiserDomains(){return this._collectAdvertiserDomains},get enableSegtaxFetch(){return this._enableSegtaxFetch},get curationRules(){return this._curationRules},setConfig(e){e.hasOwnProperty("ingestionHostname")&&(this._ingestionHostname=e.ingestionHostname),e.hasOwnProperty("ingestionPath")&&(this._ingestionPath=e.ingestionPath),e.hasOwnProperty("domain")&&(this._domain=e.domain),e.hasOwnProperty("partner")&&(this._partner=e.partner),e.hasOwnProperty("ltv")&&(this._ltv=+e.ltv),e.hasOwnProperty("wait")&&(this._wait=+e.wait),e.hasOwnProperty("tpcs")&&(this._tpcs=+e.tpcs),e.hasOwnProperty("webMetrics")&&(this._webMetrics=+e.webMetrics),e.hasOwnProperty("userId")&&"string"==typeof e.userId&&(this._userId=e.userId),e.hasOwnProperty("sessionId")&&"string"==typeof e.sessionId&&(this._sessionId=e.sessionId),e.hasOwnProperty("audience")&&(this._audience=+e.audience),e.hasOwnProperty("clientSideMetrics")&&(this._clientSideMetrics=+e.clientSideMetrics),e.hasOwnProperty("disableAdPlacementDiscovery")&&(this._disableAdPlacementDiscovery=+e.disableAdPlacementDiscovery),e.hasOwnProperty("disableGptCuration")&&(this._disableGptCuration=+e.disableGptCuration),e.hasOwnProperty("collectPlacementHistory")&&(this._collectPlacementHistory=+e.collectPlacementHistory),e.hasOwnProperty("collectAdvertiserDomains")&&(this._collectAdvertiserDomains=+e.collectAdvertiserDomains),e.hasOwnProperty("enableSegtaxFetch")&&(this._enableSegtaxFetch=+e.enableSegtaxFetch),e.hasOwnProperty("curationRules")&&Array.isArray(e.curationRules)&&(this._curationRules=e.curationRules)}};function D(e){var t=new XMLHttpRequest,n="metrics.rapidedge.io";if(-1===n.indexOf("EXCEPTION_STORE_HOSTNAME")){var i="https://"+n+"/error/ingest",r={message:e.message,stack:e.stack},s=JSON.stringify(r);t.open("POST",i,!0),t.setRequestHeader("Content-Type","application/json"),t.send(s)}}const T={};function C(e,t){e&&"string"==typeof e?t&&"function"==typeof t?(T[e]=T[e]||[],T[e].push(t)):d.error(`Invalid handler: ${t}`):d.error(`Invalid event name: ${e}`)}function R(e,t){e&&"string"==typeof e?T[e]&&T[e].forEach((e=>{try{e(t)}catch(e){d.error(`Error in event handler: ${e}`)}})):d.error(`Invalid event name: ${e}`)}const N=window.IntersectionObserver&&window.IntersectionObserverEntry&&window.IntersectionObserverEntry.prototype&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,L=["banner"];let O=e=>L.indexOf(e.mediaType)>-1;const k=e=>({root:null,rootMargin:"0px",threshold:e.width*e.height>242e3?.3:.5}),M={};function x(e){const t=M[e.universalPlacementId];t&&(t.disconnect(),delete M[e.universalPlacementId])}const $=e=>(t,n)=>{t.forEach((t=>{t.isIntersecting?(d.debug(`viewable timer starting for element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId}`),t.target.view_tracker=setTimeout((()=>{n.unobserve(t.target),x(e),d.debug(`element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId} was viewed`),e.history.push({timestamp:f(),type:r.AD_PLACEMENT_VIEWABLE}),R(r.AD_PLACEMENT_VIEWABLE,e),e.viewabilityTracker=null}),1e3)):(d.debug(`element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId} is out of view`),t.target.view_tracker&&(clearTimeout(t.target.view_tracker),d.debug(`viewable timer stopped for element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId}`)))}))},j=()=>({root:null,rootMargin:"0px",threshold:.5});let B=null;function V(){return new IntersectionObserver(((e,t)=>{const n=f();e.forEach((e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");if(!t)return void d.error("attentionIO: tracked element has no id");const i=U[t];if(!i)return void d.error(`attentionIO: adPlacement not found for element: ${t}`);i.attentionState.isVisible=!0,i.attentionState.lastEnteredViewport=n}else{const t=e.target.getAttribute("id");if(!t)return void d.error("attentionIO: tracked element has no id");const i=U[t];if(!i)return void d.error(`attentionIO: adPlacement not found for element: ${t}`);i.attentionState.isVisible&&(i.attentionState.pastTimeInViewport+=n-i.attentionState.lastEnteredViewport),i.attentionState.isVisible=!1,i.attentionState.lastExitedViewport=n}}))}),j())}const U={},G={};function W(e){if(!N||!e||!B)return;if(G[e.divId]){if(e.attentionState&&e.attentionState.isVisible){const t=f();e.attentionState.pastTimeInViewport+=t-e.attentionState.lastEnteredViewport,e.attentionState.lastEnteredViewport=t,e.attentionState.lastExitedViewport=t}B.unobserve(G[e.divId]),delete G[e.divId],delete U[e.divId]}const t=document.getElementById(e.divId);t?(e.attentionState=e.attentionState||{isVisible:!1,pastTimeInViewport:0,lastEnteredViewport:0,lastExitedViewport:0},U[e.divId]=e,G[e.divId]=t,B.observe(t)):d.error(`attentionIO: element ${e.divId} not found`)}let H=!1;const J=[],F={};function X(){return J}const q={};function z(e,t){const n=re(e);if(!n)return;const i=f();n.pbjsRenderTS=i,n.pbjsBid=t,n.clicked=!1,n.history.push({timestamp:i,type:r.AD_PLACEMENT_PBJS_RENDERED,data:{adUnitCode:e.code,bidder:t.bidder,cpm:t.cpm}}),R(r.AD_PLACEMENT_PBJS_RENDERED,n),(!n.gtagRenderTS||n.gtagRenderTS<i-5)&&(n.renders++,R(r.AD_PLACEMENT_RENDERED,n),W(n)),n.viewabilityTracker&&"pbjs"!==n.viewabilityTracker||(n.viewabilityTracker="pbjs",function(e){if(!N||!e)return;if(!e.pbjsBid||!O(e.pbjsBid))return void x(e);x(e);const t=new IntersectionObserver($(e),k(e.pbjsBid)),n=document.getElementById(e.divId);n?(t.observe(n),M[e.universalPlacementId]=t):d.error(`element: ${e.divId} not found`)}(n))}function K(e){const t=e.adUnits;if(!t||!Array.isArray(t))return;const n={};t.forEach((e=>{if(n[e.code])return;n[e.code]=!0;const t=re(e);t&&R(r.AD_PLACEMENT_PBJS_AUCTION_INIT,t)}))}function Y(e){if(!_(e))return void d.error("adUnitPlacements is not a plain object, skipping");const t=[];Object.keys(e).forEach((n=>{const i=e[n];if(i&&"string"==typeof i){q[n]=i;try{for(let e=0;e<J.length;e++){const t=J[e];if(t.divId===i)return void(F[n]=t)}const e=ee(i,"");if(!e)return;t.push(e),F[n]=e}catch(e){d.error(`while adding ad unit placement ${n}->${i}: ${e}`)}}})),te(t)}function Q(){if(!H)return void d.debug("googletag not loaded yet, skipping ad slot discovery");let e=[];try{e=window.googletag.pubads().getSlots()}catch(e){d.error(`while getting slots: ${e}`)}const t=[];e.forEach((e=>{try{const n=e.getSlotElementId(),i=e.getAdUnitPath();for(let e=0;e<J.length;e++){const t=J[e];if(t.divId===n)return void(t.gpid&&t.gpid===i||(d.debug(`updating gpid for placement ${n} from ${t.gpid} to ${i}`),t.gpid=i))}const r=ee(n,i);if(!r)return;t.push(r)}catch(e){d.error(`while discovering new ad slot: ${e}`)}})),te(t)}function Z(){Q(),Y(E(q))}function ee(e,t){const n=document.getElementById(e);if(!n)return void d.debug(`adDiv not found for elementId ${e}, skipping placement creation`);const i=n.getBoundingClientRect(),s=i.top+l(),a=g();if(0===a)return void d.error("viewportHeight is 0, skipping placement creation");const c=a/o;let u=Math.floor(s/c)%o+1,p=Math.floor(s/a)+1;return s===a&&(p=1,u=o),{divId:e,gpid:t,row:u,viewport:p,div:n,x:window.scrollX+i.left,y:s,history:[{timestamp:f(),type:r.AD_PLACEMENT_FOUND}],renders:0}}function te(e){if(!e||0===e.length)return;e.sort(((e,t)=>{switch(!0){case e.viewport<t.viewport:return-1;case e.viewport>t.viewport:return 1;case e.row<t.row:return-1;case e.row>t.row:return 1;case e.div===t.div:return 0;case e.div.compareDocumentPosition(t.div)&Node.DOCUMENT_POSITION_FOLLOWING:return-1;default:return 1}}));let t=0,n=0;e.forEach((e=>{const i=e.row+(e.viewport-1)*o;i>n&&(n=i,t=0,J.forEach((n=>{n.viewport===e.viewport&&n.row===e.row&&(t=Math.max(t,n.position))}))),t++,e.position=t,e.coordinates=`${e.viewport}-${e.row}-${e.position}`,e.universalPlacementId=btoa(e.coordinates).replace(/=/g,""),delete e.div})),e.length>0&&(d.debug(`added ${e.length} new ad placements`),J.push(...e),e.forEach((e=>{R(r.AD_PLACEMENT_FOUND,e)})))}function ne(){if(!document||!document.body)return void d.debug("document.body not found, skipping row grid drawing");const e=document.getElementById("row-grid-container");e&&e.remove();const t=document.createElement("div");t.id="row-grid-container",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height=`${document.body.scrollHeight}px`,t.style.pointerEvents="none",t.style.zIndex="9999";const n=window.innerHeight,i=n/o,r=Math.ceil(document.body.scrollHeight/i);for(let e=0;e<=r;e++){const r=e*i,s=Math.floor(r/n)+1,a=document.createElement("div");a.style.position="absolute",a.style.top=`${r}px`,a.style.left="0",a.style.width="100%",a.style.height="0",a.style.borderTop="1px dashed red",a.style.boxSizing="border-box";const d=document.createElement("div");d.style.position="absolute",d.style.top=`${r}px`,d.style.left="0",d.style.backgroundColor="rgba(255, 0, 0, 0.5)",d.style.color="white",d.style.fontSize="12px",d.style.padding="2px 4px",d.style.pointerEvents="none",d.textContent=`Row ${s}-${e%o+1}`,t.appendChild(a),t.appendChild(d)}const s=f();J.forEach((e=>{const n=document.getElementById(e.divId);if(!n)return;const i=n.getBoundingClientRect(),r=document.createElement("div");r.style.position="absolute",r.style.top=`${i.top+l()}px`,r.style.left=`${i.left+window.scrollX}px`,r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.border="2px solid blue",r.style.backgroundColor="rgba(0, 0, 255, 0.1)",r.style.pointerEvents="none",r.style.zIndex="9999";const a=document.createElement("div");if(a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.backgroundColor="rgba(0, 0, 255, 0.8)",a.style.color="white",a.style.fontSize="12px",a.style.padding="4px",a.style.maxWidth="100%",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="pre-wrap",a.textContent=`ID: ${e.universalPlacementId}\nCOORD: ${e.coordinates}\nDIV: ${e.divId}\nGPID: ${e.gpid}`,e.attentionState){let t=e.attentionState.pastTimeInViewport;e.attentionState.isVisible&&(t+=s-e.attentionState.lastEnteredViewport),a.textContent+=`\nATT: ${t}`,a.textContent+=`\nisVisible: ${e.attentionState.isVisible}`}r.appendChild(a),t.appendChild(r)})),document.body.appendChild(t)}function ie(){const e=[];return window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)?(window._pbjsGlobals.forEach((t=>{const n=window[t]&&window[t].adUnits||[];Array.isArray(n)&&n.length>0&&e.push(...n)})),e):e}function re(e){if(!e||!e.code)return null;const t=X(),n=F[e.code];if(n)return n;for(const n of t)if(e.code===n.divId)return n;for(const n of t){if(!n.gpid)continue;const t=y(e,"ortb2Imp.ext.gpid");if(e.code===n.gpid||t===n.gpid)return n}return null}function se(e){if(!e||"function"!=typeof e.getSlotElementId||"function"!=typeof e.getAdUnitPath)return null;const t=e.getSlotElementId(),n=e.getAdUnitPath(),i=X();for(const e of i)if(t===e.divId&&n===e.gpid)return e;for(const e of i)if(t===e.divId)return e;return null}let ae,oe=0,de=0;function ce(){if(!document||!document.activeElement||"IFRAME"!==document.activeElement.nodeName)return;if(oe>de)return;const e=X();let t=document.activeElement;for(let n=0;n<3&&(t=t.parentNode,t);n++){if(!t.id)continue;const n=e.filter((e=>e.divId&&e.divId===t.id));if(!n.length)continue;let i=0,s=null;if(n.forEach((e=>{e.gtagRenderTS&&e.gtagRenderTS>i&&(i=e.gtagRenderTS,s=e),e.pbjsRenderTS&&e.pbjsRenderTS>i&&(i=e.pbjsRenderTS,s=e)})),!s)break;if(s.clicked)break;let a=!1;for(let e=s.history.length-1;e>=0;e--){const t=s.history[e];if(t.type===r.AD_PLACEMENT_VIEWABLE){a=!0;break}if(t.type===r.AD_PLACEMENT_GTAG_RENDERED||t.type===r.AD_PLACEMENT_PBJS_RENDERED)break}if(!a)break;if(s.clicked=!0,s.history.push({timestamp:f(),type:r.AD_PLACEMENT_CLICKED}),R(r.AD_PLACEMENT_CLICKED,s),le(s),!s.pbjsBid)break;s.pbjsRenderTS&&(!s.gtagRenderTS||s.pbjsRenderTS>=s.gtagRenderTS||Math.abs(s.gtagRenderTS-s.pbjsRenderTS)<=2)&&R(r.PBJS_BID_CLICKED,s.pbjsBid);break}}function le(e){try{const t=document.activeElement;d.debug(`gamera-click activeElement id: ${t.id}`),d.debug(`gamera-click placement id: ${e.universalPlacementId} divId: ${e.divId}`);const n=t.getBoundingClientRect();d.debug(`gamera-click iframe dimensions: ${n.width}x${n.height}`),d.debug(`gamera-click iframe coordinates: ${n.top},${n.left}`);const i=document.getElementById(e.divId).getBoundingClientRect();d.debug(`gamera-click divElement dimensions: ${i.width}x${i.height}`),d.debug(`gamera-click divElement coordinates: ${i.top},${i.left}`)}catch(e){d.error("error logging ad click",e)}}class ue{constructor(){this.url=window.location.href,this.referrer=window.document.referrer||"",this.referrerParams=function(){const e={};try{const t=m("_fbc"),n=m("_fbp");t&&(e.fbc=t),n&&(e.fbp=n)}catch(e){}return e}(),this.viewportSize=[u(),g()],this.domain=void 0,this.partner=void 0,this.dimensions=void 0,this.metrics=void 0,this.userId=void 0,this.sessionId=void 0,this.webMetrics={},this.meta=void 0;try{this.meta=JSON.parse(atob("eyJkZXZpY2UiOnsidHlwZSI6ImRlc2t0b3AifSwiZ2VvIjp7ImNvdW50cnkiOiJVUyJ9fQ=="))}catch(e){}this.events={pages:[],custom:[]},this._startedEmitting=!1,this._startTs=f(),this._lastSeen=this._startTs,this.processNewPage();const e=e=>{const t=e.universalPlacementId,n=this.events.pages[this.events.pages.length-1];return n.adPlacements[t]=n.adPlacements[t]||{},P.collectPlacementHistory&&(n.adPlacements[t].history=e.history),n._send=!0,n.adPlacements[t]};C(r.AD_PLACEMENT_FOUND,(t=>{e(t)})),C(r.AD_PLACEMENT_GTAG_RENDERED,(t=>{const n=e(t);n.gtagRenders=n.gtagRenders||0,n.gtagRenders++})),C(r.AD_PLACEMENT_PBJS_RENDERED,(t=>{const n=e(t);n.pbjsRenders=n.pbjsRenders||0,n.pbjsRenders++,P.collectPbjsSummary&&(n.pbjsSummary=n.pbjsSummary||{},n.pbjsSummary.wins=n.pbjsSummary.wins||0,n.pbjsSummary.wins++,n.pbjsSummary.totalCPM=n.pbjsSummary.totalCPM||0,n.pbjsSummary.totalCPM+=t.pbjsBid.cpm)})),C(r.AD_PLACEMENT_PBJS_AUCTION_INIT,(t=>{if(!P.collectPbjsSummary)return;const n=e(t);n.pbjsSummary=n.pbjsSummary||{},n.pbjsSummary.auctions=n.pbjsSummary.auctions||0,n.pbjsSummary.auctions++})),C(r.AD_PLACEMENT_RENDERED,(t=>{const n=e(t);n.renders=n.renders||0,n.renders++})),C(r.AD_PLACEMENT_CLICKED,(t=>{const n=e(t);n.clicks=n.clicks||0,n.clicks++})),C(r.AD_PLACEMENT_VIEWABLE,(t=>{const n=e(t);n.viewable=n.viewable||0,n.viewable++}))}addDimensions(e){this.dimensions||(this.dimensions={}),Object.keys(e).forEach((t=>{const n=t.trim();if(""===n||-1!==n.indexOf(":"))return;const i=e[t];if("string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i)return;const r=this.dimensions[n]||[];i.toString().split(",").forEach((e=>{const t=e.trim();""!==t&&-1===r.indexOf(t)&&r.push(t)})),r.length&&(this.dimensions[t]=r)}));const t=this.events.pages[this.events.pages.length-1];return t._send=!0,t}calculateAdPlacementsAttention(e){const t=f(),n=X(),i={};n.forEach((e=>{i[e.universalPlacementId]=e})),Object.keys(e.adPlacements).forEach((n=>{const r=e.adPlacements[n],s=i[n];if(!s||!s.attentionState)return;let a=s.attentionState.pastTimeInViewport||0;s.attentionState.isVisible&&(a+=t-s.attentionState.lastEnteredViewport),r.att=a}))}addMetrics(e){this.metrics||(this.metrics={}),Object.keys(e).forEach((t=>{const n=t.trim();if(""===n)return;const i=e[t];"number"==typeof i&&(this.metrics[n]=i)}));const t=this.events.pages[this.events.pages.length-1];return t._send=!0,t}setDomain(e){this.domain=e}setPartner(e){this.partner=e}setUserId(e){this.userId=e}getUserId(){return this.userId}setSessionId(e){this.sessionId=e}sync(){const e=f();if(e===this._lastSeen)return;e-this._lastSeen>=1800||e-this._startTs>=28800?this._reset():this._lastSeen=e;const t=this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0;t&&e-t._ts>=14400&&this.processNewPage(!0)}processNewPage(e=!1){const t=window.location.pathname,n=this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0;if(!e&&n&&n.page===t)return;const i=f();n&&(this.calculateAdPlacementsAttention(n),n.tPage=i-n._ts,n._send=!0);const s=l(),a=s+this.viewportSize[1],o={page:t,pvid:p(),scrollDepth:1,ads:{},rev:{},adBids:{},observability:{},adPlacements:{},tPage:0,webMetrics:Object.assign({},this.webMetrics),_ts:i,_yStart:s,_yEnd:a,_send:!0};return this.events.pages.push(o),R(r.SESSION_NEW_PAGE,{page:o}),o}updatePageScroll(){const e=this.events.pages[this.events.pages.length-1];e._send=!0;const t=l(),n=this.viewportSize[1];return e._yEnd>=t+n||(e._yEnd=t+n,e.scrollDepth=+((e._yEnd-e._yStart)/n).toFixed(2)),e}keepPageAlive(){const e=this.events.pages[this.events.pages.length-1];return e._send=!0,e}updateWebMetrics(e){if(!e||!e.name||"string"!=typeof e.name)return;const t=e.name.toLowerCase(),n=Math.round(1e3*e.value)/1e3;if(this.webMetrics[t]===n)return;this.webMetrics[t]=n;const i=this.events.pages[this.events.pages.length-1];return i.webMetrics=Object.assign({},this.webMetrics),i._send=!0,R(r.WEB_VITALS_CHANGED,{name:t,value:n}),i}processNewAdEvent(e){const t=this.events.pages[this.events.pages.length-1];if("gam"===e.src){{const n=t.ads[e.nid]||{},i=n[e.lid]||0;n[e.lid]=i+1,t.ads[e.nid]=n}return t._send=!0,t}}addPageRevenue(e){const t=this.events.pages[this.events.pages.length-1],n=t.rev[e.type]||[],i=n.find((t=>t.currency===e.currency));return i?(i.revenue+=+e.revenue,i.count++):n.push({currency:e.currency,revenue:+e.revenue,count:1}),t.rev[e.type]=n,t._send=!0,R(r.SESSION_PAGE_REVENUE_ADDED,{data:e}),t}processNewCustomEvent(e,t){const n={id:p(),name:e,params:t,page:window.location.pathname,_send:!0};return this.events.custom.push(n),n}addWinningBid(e){if(!P.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=20)return;const i=n.adBids[t]||{imps:0,rev:0};return i.imps+=1,i.rev+=+e.cpm/1e3,n.adBids[t]=i,n._send=!0,n}addWinningBidClick(e){if(!P.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=20)return;const i=n.adBids[t]||{clicks:0};return i.clicks=i.clicks||0,i.clicks+=1,n.adBids[t]=i,n._send=!0,n}_getSessionPayload(){const e=f(),t={url:this.url,referrer:this.referrer,referrerParams:this.referrerParams,viewportSize:this.viewportSize,domain:this.domain,partner:this.partner,dimensions:this.dimensions,metrics:this.metrics,userId:this.userId,sessionId:this.sessionId,events:{},meta:this.meta,elapsed:e-this._startTs},n=[];for(let t=0,i=this.events.pages.length;t<i;t++){const r=this.events.pages[t];r._send&&(t===i-1&&(r.tPage=e-r._ts,this.calculateAdPlacementsAttention(r)),n.push({page:r.page,pvid:r.pvid,scrollDepth:r.scrollDepth,ads:r.ads,rev:r.rev,adBids:r.adBids,tPage:r.tPage,webMetrics:r.webMetrics,observability:r.observability,adPlacements:r.adPlacements}))}n.length&&(t.events.pages=n);const i=[];for(const e of this.events.custom)e._send&&i.push({id:e.id,name:e.name,params:e.params,page:e.page});return i.length&&(t.events.custom=i),t}_sendPayload(e){const t=this._getSessionPayload();if(Object.keys(t.events).length){e?navigator.sendBeacon(P.endpoint,JSON.stringify(t)):fetch(P.endpoint,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"text/plain"},body:JSON.stringify(t),keepalive:!0}).then((e=>{})).catch((e=>{const n={};for(const e of t.events.pages||[])n[e.pvid]=!0;for(const e of t.events.custom||[])n[e.id]=!0;for(const e of this.events.pages)n[e.pvid]&&(e._send=!0);for(const e of this.events.custom)n[e.id]&&(e._send=!0)}));for(const e of this.events.pages)e._send=!1;for(const e of this.events.custom)e._send=!1}}startEmitting(){this._startedEmitting||(this._startedEmitting=!0,window.setInterval((()=>{this._sendPayload(!1)}),6e5),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this._sendPayload(!0)})))}_reset(){this.events={pages:[],custom:[]},this.sessionId=void 0,this._startTs=f(),this._lastSeen=this._startTs,R(r.SESSION_RESET),this.processNewPage()}hasStartedEmitting(){return this._startedEmitting}addPageObservability(e){const t=this.events.pages[this.events.pages.length-1];return t.observability=A(t.observability,e),t._send=!0,t}addPageObservabilityMetrics(e,t=!1){const n=this.events.pages[this.events.pages.length-1];return n.observability.metrics=n.observability.metrics||{},Object.keys(e).forEach((i=>{const r=e[i];"number"==typeof r&&(n.observability.metrics[i]=t?(n.observability.metrics[i]||0)+r:r)})),n._send=!0,n}}function ge(){return ae||(ae=new ue),ae}var pe,me=-1,he=function(e){addEventListener("pageshow",(function(t){t.persisted&&(me=t.timeStamp,e(t))}),!0)},fe=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ve=function(){var e=fe();return e&&e.activationStart||0},we=function(e,t){var n=fe(),i="navigate";return me>=0?i="back-forward-cache":n&&(document.prerendering||ve()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Ee=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},ye=function(e,t,n,i){var r,s;return function(a){t.value>=0&&(a||i)&&((s=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},be=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},_e=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},Se=function(e){var t=!1;return function(){t||(e(),t=!0)}},Ae=-1,Ie=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Pe=function(e){"hidden"===document.visibilityState&&Ae>-1&&(Ae="visibilitychange"===e.type?e.timeStamp:0,Te())},De=function(){addEventListener("visibilitychange",Pe,!0),addEventListener("prerenderingchange",Pe,!0)},Te=function(){removeEventListener("visibilitychange",Pe,!0),removeEventListener("prerenderingchange",Pe,!0)},Ce=function(){return Ae<0&&(Ae=Ie(),De(),he((function(){setTimeout((function(){Ae=Ie(),De()}),0)}))),{get firstHiddenTime(){return Ae}}},Re=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ne=[1800,3e3],Le=function(e,t){t=t||{},Re((function(){var n,i=Ce(),r=we("FCP"),s=Ee("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-ve(),0),r.entries.push(e),n(!0)))}))}));s&&(n=ye(e,r,Ne,t.reportAllChanges),he((function(i){r=we("FCP"),n=ye(e,r,Ne,t.reportAllChanges),be((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},Oe=[.1,.25],ke=0,Me=1/0,xe=0,$e=function(e){e.forEach((function(e){e.interactionId&&(Me=Math.min(Me,e.interactionId),xe=Math.max(xe,e.interactionId),ke=xe?(xe-Me)/7+1:0)}))},je=function(){"interactionCount"in performance||pe||(pe=Ee("event",$e,{type:"event",buffered:!0,durationThreshold:0}))},Be=[],Ve=new Map,Ue=0,Ge=function(){return(pe?ke:performance.interactionCount||0)-Ue},We=[],He=function(e){if(We.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Be[Be.length-1],n=Ve.get(e.interactionId);if(n||Be.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Ve.set(i.id,i),Be.push(i)}Be.sort((function(e,t){return t.latency-e.latency})),Be.length>10&&Be.splice(10).forEach((function(e){return Ve.delete(e.id)}))}}},Je=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Se(e),"hidden"===document.visibilityState?e():(n=t(e),_e(e)),n},Fe=[200,500],Xe=[2500,4e3],qe={},ze=[800,1800],Ke=function e(t){document.prerendering?Re((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Ye=function(e,t){t=t||{};var n=we("TTFB"),i=ye(e,n,ze,t.reportAllChanges);Ke((function(){var r=fe();r&&(n.value=Math.max(r.responseStart-ve(),0),n.entries=[r],i(!0),he((function(){n=we("TTFB",0),(i=ye(e,n,ze,t.reportAllChanges))(!0)})))}))};new Date;const Qe=f();const Ze=[],et=[];let tt=0;function nt(e){return"function"==typeof e&&Ze.push(e),at().onpage||[]}function it(e,t,n){function i(e){const t=ie(),n=nt();return t.forEach((t=>{const i=re(t);if(i&&i.universalPlacementId){e.adUnits=e.adUnits||{},e.adUnits[t.code]=e.adUnits[t.code]||{};const r={ext:{data:{gameraPlacementId:i.universalPlacementId}}},s=st(i,n,"pbjs");s&&s.length>0&&(r.ext.data.gameraId=s),A(e.adUnits[t.code],r)}})),e}return P.disableAdPlacementDiscovery||Z(),"function"==typeof e&&et.push((t=>{e(i(t))})),i(at().pb||{})}function rt(){P.disableAdPlacementDiscovery||Z();let e={};const t=X(),n=nt();return t.forEach((t=>{if(!t.gpid)return;const i=st(t,n,"gpt");i&&i.length>0&&(e[t.gpid]={gamera:i})})),e}function st(e,t,n){return e&&e.universalPlacementId?function(e,t,n){const i=t||[],r=P.curationRules||[],s=f(),a=r.filter((t=>{const r=!!t.inverted;let a=t.target||["pbjs"];return Array.isArray(a)||(a=[a]),!!a.includes(n)&&(t.segmentsInclusion&&Array.isArray(t.segmentsInclusion)&&t.segmentsInclusion.length>0&&r===i.some((e=>t.segmentsInclusion.includes(e)))?r:!(t.segmentsExclusion&&Array.isArray(t.segmentsExclusion)&&t.segmentsExclusion.length>0&&i.some((e=>t.segmentsExclusion.includes(e))))&&(t.placementIds&&Array.isArray(t.placementIds)&&-1===t.placementIds.indexOf(e.universalPlacementId)||t.maxRenderSequence&&e.renders>=t.maxRenderSequence||t.maxViewportAdDensity&&(o=e.viewport,X().filter((e=>e.viewport===o)).length>t.maxViewportAdDensity)||t.maxTimeOnPage&&(s-Qe>t.maxTimeOnPage||s-Qe<0)?r:!r));var o}));return a.map((e=>e.id))}(e,t,n):null}function at(){try{let e=m("gamera_segtax");if(!e)return ot(),{};const t=JSON.parse(e),n=f();return Math.abs(n-t.ts)>3600&&ot(),t.data}catch(e){d.error(`while getting gamera_segtax: ${e}`)}return{}}function ot(){if(!P.audience)return void d.warn("trying to fetch gamera segtax without audience feature being ON!");if(!P.enableSegtaxFetch)return void d.info("skipping segtax fetch, enableSegtaxFetch is OFF!");const e=f();if(!(e-tt<600)){tt=e;try{let e=[],t=ge().getUserId()||m("gamera_user_id");t&&e.push(`uid=${encodeURIComponent(t)}`),e.push(`domain=${encodeURIComponent(P.domain||window.location.hostname)}`),e.push(`path=${encodeURIComponent(window.location.pathname)}`),P.partner&&e.push(`partner=${encodeURIComponent(P.partner)}`),fetch(`${P.endpoint}?${e.join("&")}`,{method:"GET",headers:{Accept:"application/json, text/plain, */*"}}).then((e=>{if(!e.ok)throw new Error(`gamera_segtax response was not ok: ${e.statusText}`);const t=e.headers.get("Content-Type");return t&&t.includes("application/json")?e.json():e.text()})).then((e=>{let t=e;"string"==typeof e&&(t=JSON.parse(e));const n={data:t,ts:f()};!function(e){let t=w((()=>JSON.parse(m("gamera_segtax"))));t=t||{};const n=t&&t.data&&t.data.onpage||[],i=t&&t.data&&t.data.pb||{},r=e.onpage||[],s=e.pb||{};v(r,n)||Ze.forEach((e=>w((()=>{e(r)})))),v(s,i)||et.forEach((e=>w((()=>{e(s)}))))}(t),h("gamera_segtax",JSON.stringify(n),8760,"Lax")})).catch((e=>{d.error(`while fetching gamera_segtax: ${e}`)}))}catch(e){d.error(`while fetching gamera_segtax: ${e}`)}}}let dt,ct={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},lt={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},ut=!1,gt=!1,pt=!1;function mt(){if(!ut)return;const e=ht();try{localStorage.setItem("_gameraClientSideMetrics",JSON.stringify(e))}catch(e){}}function ht(){const e=ge();return{sessionStart:lt.sessionStart||ct.sessionStart,lastSeen:ct.lastSeen,adsRendered:lt.adsRendered+ct.adsRendered,adsViewable:lt.adsViewable+ct.adsViewable,pageCount:lt.pageCount+(e.events.pages.length||1),vitals:{...e.webMetrics,...lt.vitals,...ct.vitals},sessionRevenue:lt.sessionRevenue+ct.sessionRevenue}}function ft(){const e=u(),t=g();let n=[];P.audience&&!P.disableAdPlacementDiscovery?n.push(...X().filter((e=>e.renders>0)).map((e=>e.divId))):(window.googletag&&S(window.googletag.pubads)&&S(window.googletag.pubads().getSlots)&&n.push(...window.googletag.pubads().getSlots().map((e=>e.getSlotElementId()))),n.push(...ie().map((e=>e.code)))),n=[...new Set(n)];let i=0;return n.forEach((n=>{if(!n)return;const r=document.getElementById(n);if(r){const n=r.getBoundingClientRect();n.left<e&&n.right>0&&n.top<t&&n.bottom>0&&i++}})),i}window.gamera=window.gamera||{},window.gamera.cmd=window.gamera.cmd||[],window.gamera.fastlane=window.gamera.fastlane||[];let vt={},wt=!1;if(!0===window.gamera.loaded)d.error("gamera already loaded, exiting.");else try{window.gamera.loaded=!0,window.gamera.setLogLevel=e=>d.setLogLevel(e),window.gamera.setUserId=e=>{e?dt.hasStartedEmitting()?d.error("userId override provided too late, ignoring."):dt.setUserId(e.toString()):d.error("empty userId override provided, ignoring.")},window.gamera.setConfig=e=>P.setConfig(e),window.gamera.event=yt,window.gamera.addDimensions=St,window.gamera.addMetrics=function(e){e&&"object"==typeof e&&!Array.isArray(e)?Et({type:i.ADD_METRICS,data:e}):d.error('argument "metrics" has an invalid type')},window.gamera.addPageRevenue=function(e){e&&e.revenue?(e.currency||(e.currency="USD"),e.type||(e.type="unknown"),Et({type:i.PAGE_REVENUE,data:e})):d.error('argument "data" has no "revenue" property')},window.gamera.getOnPageSegments=nt,window.gamera.getPrebidSegments=it,window.gamera.getUserMetrics=function(){const e=nt(),t={};return e.forEach((e=>{try{const n=e.split("_");if(e.startsWith("LRPU_P_"))return void(t.lrpu_p=+n[n.length-1]);if(e.startsWith("user_cpm_avg_"))return void(t.avg_cpm=+n[n.length-1]);if(e.startsWith("user_fillrate_avg_"))return void(t.avg_fillrate=+n[n.length-1]);if(e.startsWith("user_ltv_"))return void(t.ltv=+n[n.length-1]);if(e.startsWith("user_visits_")){const e=n[n.length-1].split(",").map(Number);return void(t.visits={last_7:e[0],last_14:e[1],last_30:e[2],lifetime:e[3]})}}catch(t){d.error(`while parsing segment ${e}: ${t}`)}})),t},window.gamera.getGptSegments=rt,window.gamera._storeException=D,window.gamera._getAdPlacements=()=>E(X()),window.gamera._drawRowGrid=ne,function(){dt=ge();let o=window.history;if(o&&o.pushState){let e=o.pushState;o.pushState=function(){e.apply(o,arguments),Et({type:i.NEW_PAGE})},window.addEventListener("popstate",(()=>{Et({type:i.NEW_PAGE})}))}let c=0;document.addEventListener("scroll",(e=>{c||(c=setTimeout((()=>{Et({type:i.PAGE_SCROLL}),c=0}),250))}),!0),function(e){try{window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){dataLayer.push(arguments)},window.gtag("get","G-XXXXXXXXXX","client_id",(e=>{yt("analytics",{source:"ga4",client_id:e})}))}catch(e){d.error(`while trying to get gtag client_id: ${e}`)}}(),document.addEventListener("click",_t),document.addEventListener("auxclick",_t),document.addEventListener("mousedown",bt),document.addEventListener("keydown",bt),document.addEventListener("touchstart",bt),function(){let o=!1;var c;if(window.addEventListener(t,(()=>{o=!0})),window.gamera.fastlane.forEach((e=>"function"==typeof e&&e())),window.gamera.fastlane={push:e=>e()},P.clientSideMetrics&&(function(){const e=f();let t=null;try{const n=localStorage.getItem("_gameraClientSideMetrics");n&&(t=JSON.parse(n),t.sessionStart=+t.sessionStart||0,t.lastSeen=+t.lastSeen||0,t.adsRendered=+t.adsRendered||0,t.adsViewable=+t.adsViewable||0,t.pageCount=+t.pageCount||0,t.vitals=t.vitals||{},t.sessionRevenue=+t.sessionRevenue||0,(e-t.lastSeen>=1800||e-t.sessionStart>=28800)&&(t=null))}catch(e){t=null}t&&(lt=t),ct.sessionStart=e,ct.lastSeen=e,ut=!0,mt(),ut&&(P.audience&&!P.disableAdPlacementDiscovery?(C(r.AD_PLACEMENT_GTAG_RENDERED,(e=>{if(e.history.length&&e.history[e.history.length-1].type===r.AD_PLACEMENT_GTAG_RENDERED){const t=(e.history[e.history.length-1].data.pb||0)+.01;ct.sessionRevenue+=t/1e3,mt()}})),C(r.AD_PLACEMENT_PBJS_RENDERED,(e=>{const t=f();(!e.gtagRenderTS||e.gtagRenderTS<t-5)&&(ct.sessionRevenue+=e.pbjsBid.cpm/1e3,mt())})),C(r.AD_PLACEMENT_RENDERED,(e=>{ct.adsRendered++,mt()})),C(r.AD_PLACEMENT_VIEWABLE,(e=>{ct.adsViewable++,mt()}))):C(r.SESSION_PAGE_REVENUE_ADDED,(({data:e})=>{ct.sessionRevenue+=+e.revenue,"pbjs"===e.type&&ct.adsRendered++,mt()})),C(r.WEB_VITALS_CHANGED,(({name:e,value:t})=>{ct.vitals[e]=t,mt()})),C(r.SESSION_NEW_PAGE,(e=>{mt()})),C(r.SESSION_RESET,(()=>{const e=f();lt={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},ct={sessionStart:e,lastSeen:e,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},mt()})),function(e,t,n){let i=0;function r(){i=setTimeout(s,e),document.addEventListener("pointermove",a),document.addEventListener("mousedown",a),document.addEventListener("keydown",a),document.addEventListener("touchstart",a),document.addEventListener("scroll",a,!0)}function s(){i=0,t()}function a(){i?clearTimeout(i):n(),document.removeEventListener("pointermove",a),document.removeEventListener("mousedown",a),document.removeEventListener("keydown",a),document.removeEventListener("touchstart",a),document.removeEventListener("scroll",a,!0),setTimeout(r,1e3),ct.lastSeen=f(),pt=!0}r()}(2e4,(()=>{gt=!0,mt()}),(()=>{gt=!1})),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&mt()})),document.addEventListener("blur",(()=>{mt()})),window.addEventListener("blur",(()=>{mt()})))}(),window.gamera.getSessionMetrics=()=>function(){const e=f(),t=ht(),n=ge(),i=n.events.pages[n.events.pages.length-1];let r=null;n.dimensions&&Array.isArray(n.dimensions.tpcs)&&(r=-1!==n.dimensions.tpcs.indexOf("enabled"));let s=null;s=window.navigator&&window.navigator.userActivation?window.navigator.userActivation.hasBeenActive:pt;const a={sessionStart:t.sessionStart,lastSeen:t.lastSeen,sessionLength:e-t.sessionStart,timeOnPage:i?e-i._ts:0,isIdle:gt,hasEngaged:s,adsRendered:t.adsRendered,adsViewable:t.adsViewable,adDensity:ft(),pageCount:t.pageCount,scrollDepth:i?i.scrollDepth:1,vitals:t.vitals,sessionRevenue:t.sessionRevenue,tpcs:r};return n.meta&&n.meta.geo?a.geo=n.meta.geo:a.geo={},n.meta&&n.meta.device?a.device=n.meta.device:a.device={},a}()),P.audience&&(window.gamera.addAdUnitPlacements=Y),window.gamera.cmd.forEach((e=>{if("function"==typeof e)try{e()}catch(t){d.error(`while processing fn ${e.name}: ${t}`)}})),window.gamera.cmd={push:e=>e()},P.domain&&dt.setDomain(P.domain),P.partner&&dt.setPartner(P.partner),P.userId&&dt.setUserId(P.userId),P.sessionId&&dt.setSessionId(P.sessionId),P.ltv&&(c=Et,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){H=!0,window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){if(!e||e.isEmpty)return;let t=e.slot.getAdUnitPath()||"";t=t.startsWith("/")?t.toLowerCase():"/"+t.toLowerCase();const n={src:"gam",div:e.slot.getSlotElementId()||"",sid:t,nid:t.split("/")[1]||"",cid:String(e.sourceAgnosticCreativeId),lid:String(e.sourceAgnosticLineItemId),aid:String(e.advertiserId),adid:"",pb:""};a.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.adid=i[0])}catch(e){}})),s.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.pb=i[0])}catch(e){}})),function(e,t){const n=se(e);if(!n)return;const i=f();n.gtagRenderTS=i,n.clicked=!1,n.history.push({timestamp:i,type:r.AD_PLACEMENT_GTAG_RENDERED,data:{adUnitPath:t.sid,networkId:t.nid,lineItemId:t.lid,advertiserId:t.aid,pb:+t.pb||0}}),R(r.AD_PLACEMENT_GTAG_RENDERED,n),n.renders++,R(r.AD_PLACEMENT_RENDERED,n),n.viewabilityTracker||(n.viewabilityTracker="gpt"),W(n)}(e.slot,n),c({type:i.AD_RENDERED,data:n})})),window.googletag.pubads().addEventListener("impressionViewable",(function(e){const t=se(e.slot);t&&"gpt"===t.viewabilityTracker&&(t.history.push({timestamp:f(),type:r.AD_PLACEMENT_VIEWABLE}),R(r.AD_PLACEMENT_VIEWABLE,t),t.viewabilityTracker=null)}))})),window.addEventListener("message",(e=>{const t=e&&e.data;t&&t.type&&t.type===n&&c({type:i.AD_RENDERED,data:t.data})})),window.addEventListener("cnxImpressionData",(e=>{e&&e.detail&&e.detail.lineItemRevenue&&c({type:i.PAGE_REVENUE,data:{type:"connatix",currency:"USD",revenue:+e.detail.lineItemRevenue}})}))),P.webMetrics)try{const e=e=>{dt.updateWebMetrics(e)};(function(e,t){t=t||{},Le(Se((function(){var n,i=we("CLS",0),r=0,s=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,s.push(e)):(r=e.value,s=[e])}})),r>i.value&&(i.value=r,i.entries=s,n())},o=Ee("layout-shift",a);o&&(n=ye(e,i,Oe,t.reportAllChanges),_e((function(){a(o.takeRecords()),n(!0)})),he((function(){r=0,i=we("CLS",0),n=ye(e,i,Oe,t.reportAllChanges),be((function(){return n()}))})),setTimeout(n,0))})))})(e,{reportAllChanges:!0}),function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Re((function(){var n;je();var i,r=we("INP"),s=function(e){Je((function(){e.forEach(He);var t,n=(t=Math.min(Be.length-1,Math.floor(Ge()/50)),Be[t]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())}))},a=Ee("event",s,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=ye(e,r,Fe,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),_e((function(){s(a.takeRecords()),i(!0)})),he((function(){Ue=0,Be.length=0,Ve.clear(),r=we("INP"),i=ye(e,r,Fe,t.reportAllChanges)})))})))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},Re((function(){var n,i=Ce(),r=we("LCP"),s=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-ve(),0),r.entries=[e],n())}))},a=Ee("largest-contentful-paint",s);if(a){n=ye(e,r,Xe,t.reportAllChanges);var o=Se((function(){qe[r.id]||(s(a.takeRecords()),a.disconnect(),qe[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return Je(o)}),!0)})),_e(o),he((function(i){r=we("LCP"),n=ye(e,r,Xe,t.reportAllChanges),be((function(){r.value=performance.now()-i.timeStamp,qe[r.id]=!0,n(!0)}))}))}}))}(e,{reportAllChanges:!0}),Le(e),Ye(e)}catch(e){}P.audience&&(function(){let e=["pbjs"];"freestar"===P.partner?e.push("fsprebid"):"publift"===P.partner&&e.push("fusePbjs"),window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)&&(e=window._pbjsGlobals.slice()),At(e);const t=(new Date).getTime();let n=setInterval((function(){if(window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)){const t=window._pbjsGlobals.filter((t=>-1===e.indexOf(t)));t.length>0&&(e.push(...t),At(t))}(new Date).getTime()-t>1e4&&(clearInterval(n),d.debug("stopping pbjs discovery."))}),200)}(),P.disableAdPlacementDiscovery||(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){H=!0,function(){let e=0;Q();let t=setInterval((()=>{if(e++,e>=10)return clearInterval(t),void(t=0);Q()}),500);document.addEventListener("scroll",(()=>{e=0,0===t&&(Q(),t=setInterval((()=>{if(e++,e>=10)return clearInterval(t),void(t=0);Q()}),500))}),!0)}()})),function(){if(!N||B)return;B=V();const e=()=>{if(!B)return;B.disconnect(),B=null;const e=f();Object.keys(U).forEach((t=>{const n=U[t];n.attentionState.isVisible&&(n.attentionState.pastTimeInViewport+=e-n.attentionState.lastEnteredViewport,n.attentionState.isVisible=!1,n.attentionState.lastExitedViewport=e)})),d.debug("attentionIO disconnected")},t=()=>{B||(B=V(),Object.keys(U).forEach((e=>{W(U[e])})),d.debug("attentionIO reconnected"))};document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?e():t()})),window.addEventListener("focus",(()=>{t()})),window.addEventListener("blur",(()=>{e()})),C(r.SESSION_RESET,(()=>{const e=f();Object.keys(U).forEach((t=>{const n=U[t];n&&(n.attentionState.isVisible?(n.attentionState.pastTimeInViewport=0,n.attentionState.lastEnteredViewport=e,n.attentionState.lastExitedViewport=e):n.attentionState.pastTimeInViewport=0)}))}))}(),window.location.search.indexOf(e)>-1&&(ne(),setInterval((()=>{ne()}),5e3)),function(){if(P.disableGptCuration)return;if(!(P.curationRules||[]).some((e=>Array.isArray(e.target)?e.target.includes("gpt"):"gpt"===e.target)))return;wt=!0,Pt();let e=250;const t=()=>{Pt(),e=Math.min(2*e,2e3),window.setTimeout(t,e)};window.setTimeout(t,e)}()),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&ce()})),document.addEventListener("blur",(()=>{ce()})),window.addEventListener("blur",(()=>{ce()})),document.addEventListener("keydown",(e=>{"Tab"===e.key&&(oe=Date.now())})),document.addEventListener("pointermove",(e=>{de=Date.now()})),C(r.PBJS_BID_CLICKED,(e=>{dt.addWinningBidClick(e)})),function(){try{let e=dt.getUserId()||m("gamera_user_id");e||(e=p()),h("gamera_user_id",e,8760,"Lax"),dt.setUserId(e)}catch(e){d.error(`while generating gamera_user_id: ${e}`)}}(),at()),P.wait&&!o?window.addEventListener(t,(()=>{dt.startEmitting()})):dt.startEmitting(),P.tpcs&&function(){const e=document.createElement("iframe");e.src="https://assets.rapidedge.io/gamera/tracker/production/3pcs.html",e.sandbox="allow-scripts allow-same-origin",e.style.display="none",e.style.position="fixed",window.addEventListener("message",(function t(n){const i=n&&n.data;"tpcs=enabled"!==i&&"tpcs=disabled"!==i||(St({tpcs:i.split("=")[1]}),document.body.removeChild(e),window.removeEventListener("message",t))})),document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",(function(t){document.body.appendChild(e)}))}()}()}()}catch(e){D(e)}function Et(e){try{switch(dt.sync(),e.type){case i.AD_RENDERED:dt.processNewAdEvent(e.data);break;case i.BID_WON:dt.addWinningBid(e.data);break;case i.PAGE_SCROLL:dt.updatePageScroll();case i.NEW_PAGE:dt.processNewPage();break;case i.CUSTOM:dt.processNewCustomEvent(e.name,e.data);break;case i.ADD_DIMENSIONS:dt.addDimensions(e.data);break;case i.ADD_METRICS:dt.addMetrics(e.data);break;case i.PAGE_REVENUE:dt.addPageRevenue(e.data);break;default:d.warn(`unknown event type: ${e.type}`)}}catch(t){d.error(`while processing ${e.type}: ${t}`),D(t)}}function yt(e,t){Et({type:i.CUSTOM,name:e,data:t})}function bt(){try{dt.sync(),dt.keepPageAlive()}catch(e){}}function _t(e){if("auxclick"===e.type&&1!==e.button)return;let t=e.target,n="";for(let e=0;e<=3&&t&&"function"==typeof t.getAttribute;e++){const e=t.getAttribute("data-click");if(null!==e){n=e||t.getAttribute("id");break}t=t.parentNode}n&&yt("click",{target:n})}function St(e){e&&"object"==typeof e&&!Array.isArray(e)?Et({type:i.ADD_DIMENSIONS,data:e}):d.error('argument "dimensions" has an invalid type')}function At(e){for(let t=0;t<e.length;t++){const n=e[t];window[n]=window[n]||{},window[n].que=window[n].que||[],window[n].que.push((function(){window[n].onEvent("bidWon",(e=>{Et({type:i.BID_WON,data:e});const t=window[n].adUnits.find((t=>t.code===e.adUnitCode));t?setTimeout((()=>{z(t,e)}),0):d.warn(`adUnit not found for adUnitCode: ${e.adUnitCode}`)})),P.collectPbjsSummary&&window[n].onEvent("auctionInit",(e=>{K(e)})),window[n].onEvent("beforeRequestBids",(e=>{d.debug("enriching pbjs bidder params"),It(n,e)})),window[n].onEvent("setTargeting",(e=>{Pt()})),window[n].onEvent("auctionEnd",(({adUnitCodes:e})=>{ie().filter((t=>-1!==e.indexOf(t.code))).forEach((e=>{y(e,"ortb2Imp.ext.data.gameraId")&&delete e.ortb2Imp.ext.data.gameraId}))}))}))}}function It(e,t){if(t&&Array.isArray(t)&&0!==t.length)try{const n={};window[e]&&window[e].bidderAlias&&(n=window[e].bidderAlias);const i={},r=it();t.forEach((e=>{y(e,"ortb2Imp.ext.data.gameraId"),(e.bids||[]).forEach((t=>{if("appnexus"!==t.bidder&&"appnexus"!==n[t.bidder]);else{const n=y(r,`adUnits.${e.code}.ext.data.gameraId`);t.params&&n&&Array.isArray(n)&&n.length>0?(t.params.keywords=t.params.keywords||{},t.params.keywords.gameraId=n,n.forEach((e=>{const n=`signals_${e}_${t.bidder}`;i[n]=(i[n]||0)+1}))):t.params&&t.params.keywords&&t.params.keywords.gameraId&&delete t.params.keywords.gameraId}}))})),Object.keys(i).length>0&&dt.addPageObservabilityMetrics(i,!0)}catch(e){d.error(`while setting/counting ix enrichments: ${e}`)}}function Pt(){if(!wt)return;const e=rt();(H?window.googletag.pubads().getSlots():[]).forEach((t=>{const n=t.getAdUnitPath();if(e[n]){const i=e[n];Object.keys(i).forEach((e=>{t.setTargeting(e,i[e])}))}else if(vt[n]){const e=vt[n];Object.keys(e).forEach((e=>{t.clearTargeting(e)}))}})),vt=e}})();
(function(){const t=window;t.gamera=t.gamera||{};t.gamera.cmd=t.gamera.cmd||[];t.gamera.freestar=t.gamera.freestar||{};const r=t.gamera.freestar;r.adIdDict={};t.googletag=t.googletag||{};t.googletag.cmd=t.googletag.cmd||[];t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRequested",function(a){if(!a||a.isEmpty){return}let e=a.slot.getAdUnitPath()||"";e=e.startsWith("/")?e.toLowerCase():"/"+e.toLowerCase();let d;["hb_adid","fs_adid"].forEach(e=>{try{const t=a.slot.getTargeting(e);if(t&&t.length){d=t}}catch(e){}});if(!d||!d.length){return}const t=d[0];if(r.adIdDict[t]){return}r.adIdDict[t]=e;setTimeout(()=>{delete r.adIdDict[t]},5e3)});t.googletag.pubads().addEventListener("slotRenderEnded",function(a){if(!a||a.isEmpty){return}let e=a.slot.getAdUnitPath()||"";e=e.startsWith("/")?e.toLowerCase():"/"+e.toLowerCase();let d;["hb_adid","fs_adid"].forEach(e=>{try{const t=a.slot.getTargeting(e);if(t&&t.length){d=t}}catch(e){}});if(!d||!d.length){return}const t=d[0];if(r.adIdDict[t]){return}r.adIdDict[t]=e;setTimeout(()=>{delete r.adIdDict[t]},5e3)})});t.fsprebid=t.fsprebid||{};t.fsprebid.que=t.fsprebid.que||[];t.fsprebid.que.push(function(){t.fsprebid.onEvent("bidWon",e=>{setTimeout(()=>{if(!r.adIdDict[e.adId]){t.gamera.cmd.push(function(){t.gamera.addPageRevenue({type:"pbjs",revenue:e.cpm/1e3,currency:e.currency})})}},0)})})})();
    