/*! For license information please see freestar-sdk.js.LICENSE.txt */
(()=>{var e={312:(e,t,i)=>{var r;!function(){"use strict";var t="input is invalid type",n="object"==typeof window,s=n?window:{};s.JS_SHA256_NO_WINDOW&&(n=!1);var o=!n&&"object"==typeof self,a=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;a?s=i.g:o&&(s=self);var c=!s.JS_SHA256_NO_COMMON_JS&&e.exports,d=i.amdO,u=!s.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),p=[-2147483648,8388608,32768,128],l=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=["hex","array","digest","arrayBuffer"],v=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var m=function(e,t){return function(i){return new S(t,!0).update(i)[e]()}},y=function(e){var t=m("hex",e);a&&(t=w(t,e)),t.create=function(){return new S(e)},t.update=function(e){return t.create().update(e)};for(var i=0;i<g.length;++i){var r=g[i];t[r]=m(r,e)}return t},w=function(e,r){var n,o=i(394),a=i(903).Buffer,c=r?"sha224":"sha256";return n=a.from&&!s.JS_SHA256_NO_BUFFER_FROM?a.from:function(e){return new a(e)},function(i){if("string"==typeof i)return o.createHash(c).update(i,"utf8").digest("hex");if(null==i)throw new Error(t);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),Array.isArray(i)||ArrayBuffer.isView(i)||i.constructor===a?o.createHash(c).update(n(i)).digest("hex"):e(i)}},A=function(e,t){return function(i,r){return new P(i,t,!0).update(r)[e]()}},b=function(e){var t=A("hex",e);t.create=function(t){return new P(t,e)},t.update=function(e,i){return t.create(e).update(i)};for(var i=0;i<g.length;++i){var r=g[i];t[r]=A(r,e)}return t};function S(e,t){t?(v[0]=v[16]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0,this.blocks=v):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function P(e,i,r){var n,s=typeof e;if("string"===s){var o,a=[],c=e.length,d=0;for(n=0;n<c;++n)(o=e.charCodeAt(n))<128?a[d++]=o:o<2048?(a[d++]=192|o>>>6,a[d++]=128|63&o):o<55296||o>=57344?(a[d++]=224|o>>>12,a[d++]=128|o>>>6&63,a[d++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),a[d++]=240|o>>>18,a[d++]=128|o>>>12&63,a[d++]=128|o>>>6&63,a[d++]=128|63&o);e=a}else{if("object"!==s)throw new Error(t);if(null===e)throw new Error(t);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(t)}e.length>64&&(e=new S(i,!0).update(e).array());var h=[],p=[];for(n=0;n<64;++n){var l=e[n]||0;h[n]=92^l,p[n]=54^l}S.call(this,i,r),this.update(p),this.oKeyPad=h,this.inner=!0,this.sharedMemory=r}S.prototype.update=function(e){if(!this.finalized){var i,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(t);i=!0}for(var n,s,o=0,a=e.length,c=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,this.block=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),i)for(s=this.start;o<a&&s<64;++o)c[s>>>2]|=e[o]<<l[3&s++];else for(s=this.start;o<a&&s<64;++o)(n=e.charCodeAt(o))<128?c[s>>>2]|=n<<l[3&s++]:n<2048?(c[s>>>2]|=(192|n>>>6)<<l[3&s++],c[s>>>2]|=(128|63&n)<<l[3&s++]):n<55296||n>=57344?(c[s>>>2]|=(224|n>>>12)<<l[3&s++],c[s>>>2]|=(128|n>>>6&63)<<l[3&s++],c[s>>>2]|=(128|63&n)<<l[3&s++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),c[s>>>2]|=(240|n>>>18)<<l[3&s++],c[s>>>2]|=(128|n>>>12&63)<<l[3&s++],c[s>>>2]|=(128|n>>>6&63)<<l[3&s++],c[s>>>2]|=(128|63&n)<<l[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=c[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=p[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},S.prototype.hash=function(){var e,t,i,r,n,s,o,a,c,d=this.h0,u=this.h1,h=this.h2,p=this.h3,l=this.h4,g=this.h5,v=this.h6,m=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((n=y[e-15])>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,i=((n=y[e-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,y[e]=y[e-16]+t+y[e-7]+i|0;for(c=u&h,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,m=(n=y[0]-1413257819)-150054599|0,p=n+24177077|0):(s=704751109,m=(n=y[0]-210244248)-1521486534|0,p=n+143694565|0),this.first=!1):(t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(s=d&u)^d&h^c,m=p+(n=m+(i=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&g^~l&v)+f[e]+y[e])|0,p=n+(t+r)|0),t=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(o=p&d)^p&u^s,v=h+(n=v+(i=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&l^~m&g)+f[e+1]+y[e+1])|0,t=((h=n+(t+r)|0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(a=h&p)^h&d^o,g=u+(n=g+(i=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&m^~v&l)+f[e+2]+y[e+2])|0,t=((u=n+(t+r)|0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(c=u&h)^u&p^a,l=d+(n=l+(i=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&v^~g&m)+f[e+3]+y[e+3])|0,d=n+(t+r)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+d|0,this.h1=this.h1+u|0,this.h2=this.h2+h|0,this.h3=this.h3+p|0,this.h4=this.h4+l|0,this.h5=this.h5+g|0,this.h6=this.h6+v|0,this.h7=this.h7+m|0},S.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,r=this.h3,n=this.h4,s=this.h5,o=this.h6,a=this.h7,c=h[e>>>28&15]+h[e>>>24&15]+h[e>>>20&15]+h[e>>>16&15]+h[e>>>12&15]+h[e>>>8&15]+h[e>>>4&15]+h[15&e]+h[t>>>28&15]+h[t>>>24&15]+h[t>>>20&15]+h[t>>>16&15]+h[t>>>12&15]+h[t>>>8&15]+h[t>>>4&15]+h[15&t]+h[i>>>28&15]+h[i>>>24&15]+h[i>>>20&15]+h[i>>>16&15]+h[i>>>12&15]+h[i>>>8&15]+h[i>>>4&15]+h[15&i]+h[r>>>28&15]+h[r>>>24&15]+h[r>>>20&15]+h[r>>>16&15]+h[r>>>12&15]+h[r>>>8&15]+h[r>>>4&15]+h[15&r]+h[n>>>28&15]+h[n>>>24&15]+h[n>>>20&15]+h[n>>>16&15]+h[n>>>12&15]+h[n>>>8&15]+h[n>>>4&15]+h[15&n]+h[s>>>28&15]+h[s>>>24&15]+h[s>>>20&15]+h[s>>>16&15]+h[s>>>12&15]+h[s>>>8&15]+h[s>>>4&15]+h[15&s]+h[o>>>28&15]+h[o>>>24&15]+h[o>>>20&15]+h[o>>>16&15]+h[o>>>12&15]+h[o>>>8&15]+h[o>>>4&15]+h[15&o];return this.is224||(c+=h[a>>>28&15]+h[a>>>24&15]+h[a>>>20&15]+h[a>>>16&15]+h[a>>>12&15]+h[a>>>8&15]+h[a>>>4&15]+h[15&a]),c},S.prototype.toString=S.prototype.hex,S.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,r=this.h3,n=this.h4,s=this.h5,o=this.h6,a=this.h7,c=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o];return this.is224||c.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),c},S.prototype.array=S.prototype.digest,S.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},P.prototype=new S,P.prototype.finalize=function(){if(S.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();S.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),S.prototype.finalize.call(this)}};var E=y();E.sha256=E,E.sha224=y(!0),E.sha256.hmac=b(),E.sha224.hmac=b(!0),c?e.exports=E:(s.sha256=E.sha256,s.sha224=E.sha224,d&&(void 0===(r=function(){return E}.call(E,i,E,e))||(e.exports=r)))}()},903:()=>{},394:()=>{}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,i),s.exports}i.amdO={},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e={r:"v0.34.0"},t={"Europe/Vienna":"gdpr","Europe/Brussels":"gdpr","Europe/Sofia":"gdpr","Europe/Zagreb":"gdpr","Asia/Nicosia":"gdpr","Europe/Nicosia":"gdpr","Europe/Prague":"gdpr","Europe/Copenhagen":"gdpr","Europe/Tallinn":"gdpr","Europe/Helsinki":"gdpr","Europe/Paris":"gdpr","Europe/Berlin":"gdpr","Europe/Athens":"gdpr","Europe/Budapest":"gdpr","Atlantic/Reykjavik":"gdpr","Europe/Dublin":"gdpr","Europe/Rome":"gdpr","Europe/Riga":"gdpr","Europe/Vaduz":"gdpr","Europe/Vilnius":"gdpr","Europe/Luxembourg":"gdpr","Europe/Malta":"gdpr","Europe/Oslo":"gdpr","Europe/Warsaw":"gdpr","Europe/Lisbon":"gdpr","Europe/Bucharest":"gdpr","Europe/Bratislava":"gdpr","Europe/Ljubljana":"gdpr","Europe/Madrid":"gdpr","Europe/Stockholm":"gdpr","Europe/Amsterdam":"gdpr","Atlantic/Azores":"gdpr","Atlantic/Canary":"gdpr","America/Cayenne":"gdpr","America/Guadeloupe":"gdpr","Atlantic/Madeira":"gdpr","America/Martinique":"gdpr","Indian/Mayotte":"gdpr","Indian/Reunion":"gdpr","America/Marigot":"gdpr","Europe/Zurich":"gdpr","Europe/London":"gdpr","America/Toronto":"can","America/Adak":"us","America/Anchorage":"us","America/Atka":"us","America/Boise":"us","America/Chicago":"us","America/Denver":"us","America/Detroit":"us","America/Indiana/Indianapolis":"us","America/Indiana/Knox":"us","America/Indiana/Marengo":"us","America/Indiana/Petersburg":"us","America/Indiana/Tell_City":"us","America/Indiana/Vevay":"us","America/Indiana/Vincennes":"us","America/Indiana/Winamac":"us","America/Indianapolis":"us","America/Juneau":"us","America/Kentucky/Louisville":"us","America/Kentucky/Monticello":"us","America/Knox_IN":"us","America/Los_Angeles":"us","America/Louisville":"us","America/Menominee":"us","America/Metlakatla":"us","America/New_York":"us","America/Nome":"us","America/North_Dakota/Beulah":"us","America/North_Dakota/Center":"us","America/North_Dakota/New_Salem":"us","America/Phoenix":"us","America/Shiprock":"us","America/Sitka":"us","America/Yakutat":"us","Pacific/Honolulu":"us"};function r(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone,i=t[e];if("can"===i){return["fr","fr-CA"].some((e=>navigator.languages.includes(e)))?"can":null}return null!=i?i:null}const n="tcfcav1",s="tcfeuv2",o=[2],a=[5],c=[7,8,10,12,17,13,18,14,19,20,21,15,22,16,11,9];function d(e,t,i={}){const r=function(e,t){const{gdprApplies:i,gppSectionIDs:r,gdprData:n}=t;if(void 0!==i)return i?"gdpr":"gdpr"===e?null:e;if(void 0!==n&&"gdpr"===e)return"gdpr";if(void 0===r||1===r.length&&0===r[0])return e;if(1===r.length&&-1===r[0])return null;if(r.some((e=>o.includes(e))))return"gdpr";if(r.some((e=>a.includes(e))))return"can";if(r.some((e=>c.includes(e))))return"us";switch(e){case"gdpr":if(!r.some((e=>o.includes(e))))return null;break;case"can":if(!r.some((e=>a.includes(e))))return null;break;case"us":if(!r.some((e=>c.includes(e))))return null}return e}(e,t),n={reg:r,gpp:t.gppString,gppSectionIDs:t.gppSectionIDs,gdpr:t.gdprString,gdprApplies:t.gdprApplies,deviceAccess:!1,createProfilesForAdvertising:!1,useProfilesForAdvertising:!1,measureAdvertisingPerformance:!1};switch(r){case"gdpr":t.gdprData?(n.deviceAccess=h(t.gdprData,1,i.tcfeuVendorID),n.createProfilesForAdvertising=h(t.gdprData,3,i.tcfeuVendorID),n.useProfilesForAdvertising=h(t.gdprData,4,i.tcfeuVendorID),n.measureAdvertisingPerformance=h(t.gdprData,7,i.tcfeuVendorID)):t.gppData&&(n.deviceAccess=l(t.gppData,1,i.tcfeuVendorID),n.createProfilesForAdvertising=l(t.gppData,3,i.tcfeuVendorID),n.useProfilesForAdvertising=l(t.gppData,4,i.tcfeuVendorID),n.measureAdvertisingPerformance=l(t.gppData,7,i.tcfeuVendorID));break;case"can":n.deviceAccess=!0,t.gppData&&(n.createProfilesForAdvertising=p(t.gppData,3,i.tcfcaVendorID),n.useProfilesForAdvertising=p(t.gppData,4,i.tcfcaVendorID),n.measureAdvertisingPerformance=p(t.gppData,7,i.tcfcaVendorID));break;default:n.deviceAccess=!0,n.createProfilesForAdvertising=!0,n.useProfilesForAdvertising=!0,n.measureAdvertisingPerformance=!0}return n}function u(e,t={}){const i={},r=d(e,i,t);return"function"==typeof window.__tcfapi&&(null===(n=window.__tcfapi)||void 0===n||n.call(window,"addEventListener",2,((n,s)=>{s&&("tcloaded"===n.eventStatus||"useractioncomplete"===n.eventStatus)&&(n=>{i.gdprString=n.tcString,i.gdprApplies=n.gdprApplies,i.gdprData=n,Object.assign(r,d(e,i,t))})(n)}))),function(){var n;"function"==typeof window.__gpp&&(null===(n=window.__gpp)||void 0===n||n.call(window,"addEventListener",((n,s)=>{s&&"signalStatus"===n.eventName&&"ready"===n.data&&(n=>{i.gppString=n.gppString,i.gppSectionIDs=n.applicableSections,i.gppData=n,Object.assign(r,d(e,i,t))})(n.pingData)})))}(),r;var n}function h(e,t,i){var r,n,s,o,a,c;return i?!!(null===(n=null===(r=e.purpose)||void 0===r?void 0:r.consents)||void 0===n?void 0:n[t])&&!!(null===(o=null===(s=e.vendor)||void 0===s?void 0:s.consents)||void 0===o?void 0:o[i]):!!(null===(c=null===(a=e.publisher)||void 0===a?void 0:a.consents)||void 0===c?void 0:c[t])}function p(e,t,i){var r;const s=t>1,o=(null===(r=e.parsedSections)||void 0===r?void 0:r[n])||[];if("number"==typeof i){const e=o.find((e=>"Version"in e));if(!e)return!1;let r=e.PurposesExpressConsent.includes(t)&&e.VendorExpressConsent.includes(i);return s&&(r||(r=e.PurposesImpliedConsent.includes(t)&&e.VendorImpliedConsent.includes(i))),r}const a=o.find((e=>"SubsectionType"in e&&3===e.SubsectionType));if(!a)return!1;let c=a.PubPurposesExpressConsent.includes(t);return s&&(c||(c=a.PubPurposesImpliedConsent.includes(t))),c}function l(e,t,i){var r;const n=t>1,o=(null===(r=e.parsedSections)||void 0===r?void 0:r[s])||[];if("number"==typeof i){const e=o.find((e=>"Version"in e));if(!e)return!1;let r=e.PurposeConsent.includes(t)&&e.VendorConsent.includes(i);return n&&(r||(r=e.PurposesLITransparency.includes(t)&&e.VendorLegitimateInterest.includes(i))),r}const a=o.find((e=>"SegmentType"in e&&3===e.SegmentType));if(!a)return!1;let c=a.PubPurposesConsent.includes(t);return n&&(c||(c=a.PubPurposesLITransparency.includes(t))),c}const f={cookies:!0,initPassport:!0,readOnly:!1,experiments:[],consent:{reg:null,deviceAccess:!0,createProfilesForAdvertising:!0,useProfilesForAdvertising:!0,measureAdvertisingPerformance:!0}};function g(){const e=new Uint8Array(16);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}class v{constructor(e){this.consent=e}getItem(e){return this.consent.deviceAccess?window.localStorage.getItem(e):null}setItem(e,t){this.consent.deviceAccess&&window.localStorage.setItem(e,t)}removeItem(e){this.consent.deviceAccess&&window.localStorage.removeItem(e)}}const m="_optable_pairId";function y(e){const t=new Uint16Array(e.length);for(let i=0;i<t.length;i++)t[i]=e.charCodeAt(i);return btoa(String.fromCharCode(...new Uint8Array(t.buffer)))}function w(e){return e.node?y(`${e.host}/${e.node}`):y(`${e.host}`)}class A{constructor(e){this.config=e,this.passportKeys=function(e){const t=[],i=[],r=`OPTABLE_PASSPORT_${w(e)}`;return t.push(r),i.push(r),e.legacyHostCache?(i.push(`OPTABLE_PASSPORT_${y(`${e.legacyHostCache}`)}`),i.push(`OPTABLE_PASS_${y(`${e.legacyHostCache}/${e.site}`)}`)):i.push(`OPTABLE_PASS_${y(`${e.host}/${e.site}`)}`),{write:t,read:i}}(e),this.targetingKeys=function(e){const t=`OPTABLE_TARGETING_${w(e)}`;return{write:[t,e.optableCacheTargeting],read:[t]}}(e),this.siteKeys=function(e){const t=`OPTABLE_SITE_${w(e)}`;return{write:[t],read:[t]}}(e),this.pairKeys={write:[m],read:[m]},this.storage=new v(this.config.consent)}getPassport(){return this.readStorageKeys(this.passportKeys)}setPassport(e){this.writeToStorageKeys(this.passportKeys,e)}getTargeting(){const e=this.readStorageKeys(this.targetingKeys);return e?JSON.parse(e):null}setTargeting(e){e&&(this.writeToStorageKeys(this.targetingKeys,JSON.stringify(e)),this.setPairIDs(e))}getSite(){const e=this.readStorageKeys(this.siteKeys);return e?JSON.parse(e):null}setSite(e){e&&this.writeToStorageKeys(this.siteKeys,JSON.stringify(e))}setPairIDs(e){var t,i,r;const n=null===(r=null===(i=null===(t=e.ortb2)||void 0===t?void 0:t.user)||void 0===i?void 0:i.eids)||void 0===r?void 0:r.filter((e=>"pair-protocol.com"===e.source)),s=null==n?void 0:n.flatMap((e=>e.uids));if(!s)return;const o=new Set(s.map((e=>e.id)));this.writeToStorageKeys(this.pairKeys,btoa(JSON.stringify({envelope:[...o]})))}getPairIDs(){var e;const t=this.readStorageKeys(this.pairKeys);return t?null===(e=JSON.parse(atob(t)))||void 0===e?void 0:e.envelope:null}readStorageKeys(e){for(const t of e.read){const e=this.storage.getItem(t);if(e)return e}return null}writeToStorageKeys(e,t){if(t)for(const i of e.write)this.storage.setItem(i,t)}clearStorageKeys(e){for(const t of[...e.read,...e.write])this.storage.removeItem(t)}clearPassport(){this.clearStorageKeys(this.passportKeys)}clearTargeting(){this.clearStorageKeys(this.targetingKeys)}clearSite(){this.clearStorageKeys(this.siteKeys)}}var b=function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function S(t,i,r){return b(this,void 0,void 0,(function*(){const n=yield globalThis.fetch(function(t,i,r){const{host:n,cookies:s}=i,o=new URL(t,`https://${n}`);if(o.searchParams.set("osdk",`web-${e.r}`),o.searchParams.set("sid",i.sessionID),i.skipEnrichment&&o.searchParams.set("skip_enrichment",`${i.skipEnrichment}`),i.node&&o.searchParams.set("t",i.node),i.site&&o.searchParams.set("o",i.site),void 0!==i.consent.gpp&&o.searchParams.set("gpp",i.consent.gpp),void 0!==i.consent.gppSectionIDs&&o.searchParams.set("gpp_sid",i.consent.gppSectionIDs.join(",")),void 0!==i.consent.gdpr&&o.searchParams.set("gdpr_consent",i.consent.gdpr),void 0!==i.consent.gdprApplies&&o.searchParams.set("gdpr",Number(i.consent.gdprApplies).toString()),i.readOnly&&o.searchParams.set("ro","true"),s)o.searchParams.set("cookies","yes");else{const e=new A(i).getPassport();o.searchParams.set("cookies","no"),o.searchParams.set("passport",e||"")}const a=Object.assign({},r);return a.credentials=i.consent.deviceAccess?"include":"omit",i.mockedIP&&(a.headers=new Headers(a.headers),a.headers.set("X-Forwarded-For",i.mockedIP)),new Request(o.toString(),a)}(t,i,r)),s=n.headers.get("Content-Type"),o=(null==s?void 0:s.startsWith("application/json"))?yield n.json():yield n.text();if(!n.ok)throw new Error(o.error);return o.passport&&(new A(i).setPassport(o.passport),delete o.passport),o}))}function P(e,t){return i=this,r=void 0,s=function*(){const i=new URLSearchParams;"string"==typeof t&&i.append("id",t);const r="/v1/resolve?"+i.toString();return function(e){const t={clusters:[],lmpid:""};if("object"!=typeof e||null===e)return t;if("lmpid"in e&&"string"==typeof(null==e?void 0:e.lmpid)&&(t.lmpid=e.lmpid),!("clusters"in e)||!Array.isArray(null==e?void 0:e.clusters))return t;for(const i of e.clusters){const e={ids:[],traits:[]};if(Array.isArray(null==i?void 0:i.ids))for(const t of i.ids)"string"==typeof t&&e.ids.push(t);if(Array.isArray(null==i?void 0:i.traits))for(const t of i.traits)"string"==typeof(null==t?void 0:t.key)&&"string"==typeof(null==t?void 0:t.value)&&e.traits.push({key:t.key,value:t.value});(e.ids.length>0||e.traits.length>0)&&t.clusters.push(e)}return t}(yield S(r,e,{method:"GET",headers:{Accept:"application/json"}}))},new((n=void 0)||(n=Promise))((function(e,t){function o(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(o,a)}c((s=s.apply(i,r||[])).next())}));var i,r,n,s}function E(e){return t=this,i=void 0,n=function*(){const t=yield S("/config",e,{method:"GET",headers:{Accept:"application/json"}});return new A(e).setSite(t),t},new((r=void 0)||(r=Promise))((function(e,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(o,a)}c((n=n.apply(t,i||[])).next())}));var t,i,r,n}var _,I,k={},T={},O={};(I=_||(_={})).Placement=T,I.Media=O,I.Context=k;function D(e,t){return i=this,r=void 0,s=function*(){const i="/v2/targeting?"+new URLSearchParams({id:t}).toString(),r=yield S(i,e,{method:"GET",headers:{Accept:"application/json"}});return r&&(new A(e).setTargeting(r),function(e,t){var i,r,n,s,o,a;const c=null===(n=null===(r=null===(i=t.ortb2)||void 0===i?void 0:i.user)||void 0===r?void 0:r.eids)||void 0===n?void 0:n.map((e=>e.matcher));window.dispatchEvent(new CustomEvent("optable-targeting:change",{detail:{instance:e.node||e.host,resolved:!!(null===(a=null===(o=null===(s=t.ortb2)||void 0===s?void 0:s.user)||void 0===o?void 0:o.eids)||void 0===a?void 0:a.length),ortb2:t.ortb2,provenance:new Set(c)}}))}(e,r)),r},new((n=void 0)||(n=Promise))((function(e,t){function o(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(o,a)}c((s=s.apply(i,r||[])).next())}));var i,r,n,s}function C(e){var t,i;return{user:{data:(null!==(t=null==e?void 0:e.audience)&&void 0!==t?t:[]).map((e=>({name:e.provider,segment:e.ids,ext:{segtax:e.rtb_segtax}}))),ext:{eids:(null!==(i=null==e?void 0:e.user)&&void 0!==i?i:[]).map((e=>({source:e.provider,uids:e.ids.map((({id:e})=>({id:e,atype:3})))})))}}}}function x(e){var t;const i={};if(!e)return i;for(const r of null!==(t=e.audience)&&void 0!==t?t:[])r.keyspace&&(r.keyspace in i||(i[r.keyspace]=[]),i[r.keyspace].push(...r.ids.map((e=>e.id))));return i}var B=i(312);var K=function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class N{constructor(e){this.dcn=function(e){var t,i,n,s,o,a,c,d;const h={host:e.host,site:e.site,optableCacheTargeting:null!==(t=e.optableCacheTargeting)&&void 0!==t?t:"optable-cache:targeting",cookies:null!==(i=e.cookies)&&void 0!==i?i:f.cookies,initPassport:null!==(n=e.initPassport)&&void 0!==n?n:f.initPassport,consent:f.consent,readOnly:null!==(s=e.readOnly)&&void 0!==s?s:f.readOnly,node:e.node,legacyHostCache:e.legacyHostCache,experiments:null!==(o=e.experiments)&&void 0!==o?o:f.experiments,mockedIP:e.mockedIP,sessionID:null!==(a=e.sessionID)&&void 0!==a?a:g(),skipEnrichment:e.skipEnrichment,initTargeting:e.initTargeting};return(null===(c=e.consent)||void 0===c?void 0:c.static)?h.consent=e.consent.static:(null===(d=e.consent)||void 0===d?void 0:d.cmpapi)&&(h.consent=u(r(),e.consent.cmpapi)),h}(e),this.init=this.initialize()}initialize(){return K(this,void 0,void 0,(function*(){this.dcn.initPassport&&(yield E(this.dcn).catch((()=>{}))),this.dcn.initTargeting&&this.targeting().catch((()=>{}))}))}identify(...e){return K(this,void 0,void 0,(function*(){return yield this.init,function(e,t){return S("/identify",e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}(this.dcn,e.filter((e=>e)))}))}uid2Token(e){return K(this,void 0,void 0,(function*(){return yield this.init,function(e,t){return S("/uid2/token",e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}(this.dcn,e)}))}targeting(){return K(this,arguments,void 0,(function*(e="__passport__"){return yield this.init,D(this.dcn,e)}))}targetingFromCache(){return e=this.dcn,new A(e).getTargeting();var e}site(){return K(this,void 0,void 0,(function*(){return E(this.dcn)}))}siteFromCache(){return e=this.dcn,new A(e).getSite();var e}targetingClearCache(){var e;e=this.dcn,new A(e).clearTargeting()}prebidORTB2(){return K(this,void 0,void 0,(function*(){return C(yield this.targeting())}))}prebidORTB2FromCache(){return C(this.targetingFromCache())}targetingKeyValues(){return K(this,void 0,void 0,(function*(){return x(yield this.targeting())}))}targetingKeyValuesFromCache(){return x(this.targetingFromCache())}witness(e){return K(this,arguments,void 0,(function*(e,t={}){return yield this.init,function(e,t,i){const r={event:t,properties:i};return S("/witness",e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}(this.dcn,e,t)}))}profile(e){return K(this,void 0,void 0,(function*(){return yield this.init,function(e,t){const i={traits:t};return S("/profile",e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}(this.dcn,e)}))}tokenize(e){return K(this,void 0,void 0,(function*(){return yield this.init,function(e,t){let i="/v1/tokenize";e.experiments.includes("tokenize-v2")&&(i="/v2/tokenize");let r={id:t};return S(i,e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}(this.dcn,e)}))}resolve(e){return K(this,void 0,void 0,(function*(){return yield this.init,P(this.dcn,e)}))}static eid(e){return e?"e:"+B.sha256.hex(e.toLowerCase().trim()):""}static sha256(e){return e?B.sha256.hex(e):""}static cid(e,t=0){let i="c:";if("string"!=typeof e)throw new Error("Invalid ppid");if("number"!=typeof t||isNaN(t)||t<0||t>9)throw new Error("Invalid variant");return t>0&&(i=`c${t}:`),e?i+e.trim():""}static TargetingKeyValues(e){return x(e)}static PrebidORTB2(e){return C(e)}}N.version=e.r;const V=N;window.optable=window.optable||{cmd:[]},window.optable.wrapperVersion="v1.8.0",window.location.search?.match(/optableDisableConsent/g)&&(sessionStorage.optableDisableConsent=1),window.location.search?.match(/optableResolveId5/g)&&(sessionStorage.optableResolveId5=1),window.location.search?.match(/optableResolveTD/g)&&(sessionStorage.optableResolveTD=1);const j=sessionStorage.optableDisableConsent?{createProfilesForAdvertising:!0,deviceAccess:!0,measureAdvertisingPerformance:!0,reg:null,useProfilesForAdvertising:!0}:u(r());window.optable.site=window.optable.site||"prod-fallback-default-site",window.optable.SDK=V,window.optable.eidSources=new Set,window.optable.temp=localStorage.OPTABLE_RESOLVED,window.optable.temp&&JSON.parse(window.optable.temp).ortb2.user.eids.forEach((e=>{window.optable.eidSources.add(e.matcher)})),delete window.optable.temp,window.optable.freestar_instance=new V({host:"na.edge.optable.co",node:"freestar",legacyHostCache:"freestar.cloud.optable.co",site:window.optable.site,consent:{static:j},initPassport:!1,cookies:!1,legacyHostCache:"freestar.cloud.optable.co"}),window.optable.freestar_auth=new V({host:"na.edge.optable.co",node:"freestar-auth",legacyHostCache:"freestar-auth.cloud.optable.co",site:window.optable.site,consent:{static:j},cookies:!1,legacyHostCache:"freestar-auth.cloud.optable.co"}),window.optable.freestar_id5=new V({host:"na.edge.optable.co",node:"freestar-id5",site:window.optable.site,consent:{static:j},initPassport:!1,cookies:!1}),function(){if(!j.deviceAccess)return void delete localStorage.OPTABLE_RESOLVED;const e=new Set;function t(t,i,r){t&&(e.add(i),t.forEach((e=>{const t="uidapi.com"===e.source?(e.uids||[]).map((e=>{const{ext:t,...i}=e;return i})):[...e.uids||[]],n={inserter:"optable.co",matcher:i,mm:r,source:e.source,uids:t};window.optable.tokensArr.push(n)})))}function i(){const e={inserter:"optable.co",matcher:"id5.io",mm:5},t={c:{...e,source:"adnxs.com",uids:[]},c1:{...e,source:"criteo.com",uids:[]},c2:{...e,source:"gumgum.com",uids:[]},c3:{...e,source:"indexexchange.com",uids:[]},c4:{...e,source:"inmobi.com",uids:[]},c5:{...e,source:"openx.com",uids:[]},c6:{...e,source:"pubmatic.com",uids:[]},c7:{...e,source:"magnite.com",uids:[]},c8:{...e,source:"sovrn.com",uids:[]},c9:{...e,source:"adsrvr.org",uids:[]},c10:{...e,source:"triplelift.com",uids:[]},c11:{...e,source:"unrulymedia.com",uids:[]},c12:{...e,source:"yieldmo.com",uids:[]}};return window.optable.freestar_id5.targeting(window.optable.id5Id).then((e=>{const i=e?.ortb2?.user?.eids?.[0]?.uids;i?.length&&(i.forEach((e=>{if(!e.id)return;const[i,r]=e.id.split(":");t[i]?.uids?.push({id:r,atype:1})})),Object.values(t).forEach((e=>{if(e.uids.length){const t={...e};t.uids=[e.uids[0]],window.optable.tokensArr.push(t)}})))}))}window.optable.tokensArr=[],window.optable.eid_obj={ortb2:{user:{data:[],eids:[]}}},Promise.allSettled([window.optable.freestar_auth.targeting().then((e=>{const i=e.ortb2.user.data,r=e.ortb2.user.eids;i?.forEach((e=>{e?.segment?.length&&window.optable.eid_obj.ortb2.user.data.push(e)})),t(r,"freestar.com",3)})),window.optable.freestar_instance.targeting(sessionStorage.optableResolveTD?"i4:1.2.3.4":"__ip__").then((e=>{t(e.ortb2.user.eids,"truedata.co",5)})),new Promise((e=>{if(sessionStorage.optableResolveId5)window.optable.id5Id="id5:ID5-QA",i().then(e);else{const t=document.createElement("script");t.src="https://cdn.id5-sync.com/api/1.0/id5-api.js",t.onload=()=>{const t=window.ID5.init({partnerId:882}).onUpdate((()=>{if(window.optable.id5Id||882!==t?.config?.providedOptions?.partnerId)return;const r=t.getUserId();r&&"0"!==r&&(window.optable.id5Id=`id5:${r}`,i().then(e))}))},document.head.appendChild(t)}}))]).then((()=>{!function(){if(window.optable.tokensArr.length){if(window.optable.eidPriorities){let e=1/0,t=[];window.optable.tokensArr.forEach((i=>{const r=window.optable.eidPriorities[i.matcher];r<e&&(e=r,t=[]),r===e&&t.push(i)})),window.optable.tokensArr=[...t]}const e=["freestar.com","truedata.co","id5.io"];window.optable.tokensArr.sort(((t,i)=>{const r=e.indexOf(t.matcher),n=e.indexOf(i.matcher);return(-1===r?1/0:r)-(-1===n?1/0:n)})),window.optable.eid_obj.ortb2.user.eids=[...window.optable.tokensArr]}}(),window.optable.eidSources=new Set(e),localStorage.OPTABLE_RESOLVED=JSON.stringify(window.optable.eid_obj),document.dispatchEvent(new CustomEvent("optableResolved",{detail:{resolved:!!window.optable.tokensArr.length}}))}))}(),window.optable.cmd=new class{constructor(e){if(Array.isArray(e))for(const t of e)"function"==typeof t&&t()}push(e){e()}}(window.optable.cmd||[])})()})();